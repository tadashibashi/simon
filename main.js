(()=>{"use strict";var t,e=function(){function t(t,e){this.props=t,this.state=e,this.stateHistory=[],this.onStateUpdated=null}return t.prototype.reducer=function(t,e){var n=this.reducerImpl(t,e,this.state);Object.is(n,this.state)||(this.stateHistory.push({state:n,time:new Date}),this.state=n,this.onStateUpdated&&this.onStateUpdated(this))},t}(),n=function(){function t(t,e){var n=t.context;this.mEffect=t,this.mDry=new GainNode(n),this.mDry.gain.value=0,this.mWet=new GainNode(n),this.mWet.gain.value=1,this.mInput=new GainNode(n),this.mOutput=new GainNode(n),this.mInput.connect(this.mDry),this.mInput.connect(this.mWet),this.mDry.connect(this.mOutput),this.mWet.connect(this.mEffect),this.mEffect.connect(this.mOutput),this.mOutput.connect(e||n.destination)}return Object.defineProperty(t.prototype,"effect",{get:function(){return this.mEffect},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"input",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this.mOutput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dry",{get:function(){return this.mDry.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wet",{get:function(){return this.mWet.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postGain",{get:function(){return this.mOutput},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.disconnect(),this.mOutput.connect(t)},t.prototype.disconnect=function(){this.mOutput.disconnect()},t.prototype.setWetDry=function(t,e){if(void 0===e&&(e=0),t=Math.min(Math.max(t,0),1),e>0){var n=this.mEffect.context.currentTime+e;this.mDry.gain.linearRampToValueAtTime(1-t,n),this.mWet.gain.linearRampToValueAtTime(t,n)}else this.mDry.gain.value=1-t,this.mWet.gain.value=t},t.prototype.setWet=function(t,e){void 0===e&&(e=0),t=Math.max(t,0),e>0?this.mWet.gain.linearRampToValueAtTime(t,this.mEffect.context.currentTime+e):this.mWet.gain.value=t},t.prototype.setDry=function(t,e){void 0===e&&(e=0),t=Math.max(t,0),e>0?this.mDry.gain.linearRampToValueAtTime(t,this.mEffect.context.currentTime+e):this.mDry.gain.value=t},t.prototype.dispose=function(){this.mDry.disconnect(),this.mWet.disconnect(),this.mEffect.disconnect(),this.mInput.disconnect(),this.mOutput.disconnect(),this.mDry=null,this.mWet=null,this.mEffect=null,this.mInput=null,this.mOutput=null},t}(),o=function(){function t(t,e){this.mContext=t,this.mPreGain=new GainNode(t),this.mPostGain=new GainNode(t),this.mPreGain.connect(this.mPostGain),this.mPostGain.connect(e||t.destination),this.mEffects=[]}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mPreGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.output.disconnect(),this.output.connect(t)},Object.defineProperty(t.prototype,"context",{get:function(){return this.mPreGain.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mPreGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.mEffects.length},enumerable:!1,configurable:!0}),t.prototype.pushEffect=function(t){var e=new n(t,this.output),o=0===this.mEffects.length?this.input:this.mEffects[this.mEffects.length-1].output;return o.disconnect(),o.connect(e.input),this.mEffects.push(e),e},t.prototype.push=function(t,e){var n=e?new t(this.context,e):new t(this.context);return this.pushEffect(n)},t.prototype.insertEffect=function(t,e){void 0===e&&(e=0);var o=new n(t),i=0===(e=0===this.mEffects.length?0:Math.min(Math.max(0,e),this.mEffects.length-1))?this.input:this.mEffects[e-1].output,r=e>=this.mEffects.length-1?this.output:this.mEffects[e].input;return i.disconnect(),i.connect(o.input),o.connect(r),this.mEffects.splice(e,0,o),o},t.prototype.insert=function(t,e,n){void 0===e&&(e=0);var o=n?new t(this.context,n):new t(this.context);return this.insertEffect(o,e)},t.prototype.remove=function(t){for(var e=0;e<this.mEffects.length;++e)if(this.mEffects[e].effect instanceof t){var n=this.mEffects[e],o=0===e?this.input:this.mEffects[e-1].output,i=e===this.mEffects.length-1?this.output:this.mEffects[e+1].input;return n.dispose(),o.disconnect(),o.connect(i),this.mEffects.splice(e,1),n}return null},t.prototype.get=function(t){return this.getNth(t,1)},t.prototype.getAllOf=function(t){return this.mEffects.filter((function(e){return e.effect instanceof t}))},t.prototype.getNth=function(t,e){for(var n=0;n<this.mEffects.length;++n)if(this.mEffects[n].effect instanceof t&&--e<=0)return this.mEffects[n];return null},t.prototype.dispose=function(){this.mPreGain.disconnect(),this.mPostGain.disconnect(),this.mEffects.forEach((function(t){return t.dispose()})),this.mPostGain=null,this.mPreGain=null,this.mEffects=null},t}(),i=function(){function t(t,e){this.mNode=t.createGain(),this.mTarget=e||null}return Object.defineProperty(t.prototype,"gain",{get:function(){return this.mNode.gain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"input",{get:function(){return this.mNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.mTarget},set:function(t){this.mTarget=t,this.mNode.disconnect(),this.mNode.connect(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTarget",{get:function(){return null!==this.mTarget},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.target=t},t.prototype.disconnect=function(){this.mNode.disconnect(),this.mTarget=null},t}(),r=function(){function t(t){this.mContext=t,this.mSends=[],this.mInput=new GainNode(t)}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mInput},enumerable:!1,configurable:!0}),t.prototype.create=function(t){var e=new i(this.mContext,t);return this.mInput.connect(e.input),this.mSends.push(e),e},t.prototype.get=function(t){return"number"==typeof t?this.mSends[t]||null:this.mSends.find((function(e){return Object.is(e.target,t)}))||null},t.prototype.remove=function(t){for(var e=0;e<this.mSends.length;++e)if(Object.is(this.mSends[e],t))return this.cleanSend(t),this.mSends.splice(e,1),!0;return!1},t.prototype.removeAll=function(){var t=this;this.mSends.forEach((function(e){return t.cleanSend(e)})),this.mSends=[]},t.prototype.dispose=function(){this.removeAll()},Object.defineProperty(t.prototype,"length",{get:function(){return this.mSends.length},enumerable:!1,configurable:!0}),t.prototype.removeIfTargeting=function(t){for(var e=0;e<this.mSends.length;)Object.is(this.mSends[e].target,t)?(this.cleanSend(this.mSends[e]),this.mSends.splice(e,1)):++e},t.prototype.cleanSend=function(t){t.disconnect(),this.mInput.disconnect(t.input)},t}(),s=function(){function t(t,e){this.mPanner=t.createStereoPanner(),this.mPostGain=t.createGain(),this.mPanner.connect(this.mPostGain),this.mPostGain.connect(e||t.destination),this.mEffects=new o(t,this.mPanner),this.mSends=new r(t),this.mPostGain.connect(this.mSends.input)}return Object.defineProperty(t.prototype,"input",{get:function(){return this.mEffects.input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effects",{get:function(){return this.mEffects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preGain",{get:function(){return this.mEffects.preGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postGain",{get:function(){return this.mPostGain},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panner",{get:function(){return this.mPanner},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sends",{get:function(){return this.mSends},enumerable:!1,configurable:!0}),t.prototype.connect=function(t){this.mPostGain.disconnect(),this.mPostGain.connect(this.mSends.input),this.mPostGain.connect(t)},t.prototype.disconnect=function(){this.mPostGain.disconnect(),this.mPostGain.connect(this.mSends.input)},t.prototype.dispose=function(){this.mPanner.disconnect(),this.mPostGain.disconnect(),this.mEffects.dispose(),this.mSends.dispose(),this.mPanner=null,this.mPostGain=null,this.mEffects=null,this.mSends=null},t}(),u=function(){function t(t,e){this.mContext=t,this.mMasterBus=new s(t,e),this.mBusses=new Map,this.mBusses.set("master",this.mMasterBus)}return Object.defineProperty(t.prototype,"context",{get:function(){return this.mContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"master",{get:function(){return this.mMasterBus},enumerable:!1,configurable:!0}),t.prototype.create=function(t,e){if(this.mBusses.has(t))return null;var n=new s(this.context,e||this.mMasterBus.input);return this.mBusses.set(t,n),n},t.prototype.get=function(t){return this.mBusses.get(t)||null},t.prototype.remove=function(t){return this.mBusses.get(t),this.mBusses.delete(t)},t.prototype.dispose=function(){this.mBusses.forEach((function(t){return t.dispose()})),this.mBusses.clear(),this.mBusses=null,this.mMasterBus=null},t}(),c="pointerdown",a=function(){function t(t,e,n){this.mEffects=new o(t,n),this.mSound=e,this.mSound&&this.mSound.connect(this.mEffects.input)}return Object.defineProperty(t.prototype,"effects",{get:function(){return this.mEffects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.mEffects.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this.mSound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gain",{get:function(){return this.mEffects.gain.gain},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;null===(t=this.mSound)||void 0===t||t.disconnect(),this.mSound=null,this.mEffects.dispose(),this.mEffects=null},t.prototype.connect=function(t){this.mEffects.connect(t)},t}(),l=function(){function t(t,e){this.mContext=t,this.mTargets=[],e?this.set(e):(this.mAttackTime=0,this.mAttackLevel=1,this.mDecayTime=.5,this.mSustainLevel=.25,this.mHoldTime=.25,this.mReleaseTime=.5)}return Object.defineProperty(t.prototype,"attackTime",{get:function(){return this.mAttackTime},set:function(t){this.mAttackTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attackLevel",{get:function(){return this.mAttackLevel},set:function(t){this.mAttackLevel=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decayTime",{get:function(){return this.mDecayTime},set:function(t){this.mDecayTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sustainLevel",{get:function(){return this.mSustainLevel},set:function(t){this.mSustainLevel=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holdTime",{get:function(){return this.mHoldTime},set:function(t){this.mHoldTime=Math.max(0,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"releaseTime",{get:function(){return this.mReleaseTime},set:function(t){this.mReleaseTime=Math.max(0,t)},enumerable:!1,configurable:!0}),t.prototype.addTarget=function(t){this.mTargets.push(t)},t.prototype.removeTarget=function(t){for(var e=0;e<this.mTargets.length;++e)if(Object.is(this.mTargets[e],t)){this.mTargets.splice(e,1);break}},t.prototype.set=function(t){var e,n,o,i,r,s;this.mAttackTime=null!==(e=t.attackTime)&&void 0!==e?e:this.mAttackTime,this.mAttackLevel=null!==(n=t.attackLevel)&&void 0!==n?n:this.mAttackLevel,this.mDecayTime=null!==(o=t.decayTime)&&void 0!==o?o:this.mDecayTime,this.mSustainLevel=null!==(i=t.sustainLevel)&&void 0!==i?i:this.mSustainLevel,this.mHoldTime=null!==(r=t.holdTime)&&void 0!==r?r:this.mHoldTime,this.mReleaseTime=null!==(s=t.releaseTime)&&void 0!==s?s:this.mReleaseTime},t.prototype.activate=function(t){var e=this;void 0===t&&(t=0);var n=this.mContext.currentTime+t+.02,o=n+this.mAttackTime,i=n+this.mAttackTime+this.mDecayTime+this.mHoldTime;this.mTargets.forEach((function(t){t.cancelScheduledValues(n),t.linearRampToValueAtTime(0,n),t.setTargetAtTime(e.mAttackLevel,n,.1*e.mAttackTime),t.setTargetAtTime(e.mSustainLevel,o,.1*e.mDecayTime),t.setTargetAtTime(0,i,.1*e.mReleaseTime)}))},t.prototype.cancel=function(t){var e=this;void 0===t&&(t=0),this.mTargets.forEach((function(n){n.cancelScheduledValues(e.mContext.currentTime+t)}))},t}(),p=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),f=function(t){function e(e,n,o){var i=this,r=o?new OscillatorNode(e,o):new OscillatorNode(e);return(i=t.call(this,e,r,n)||this).envelope=new l(e),i.envelope.addTarget(i.gain),i.gain.value=0,i.source.start(e.currentTime),i}return p(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.source.type},set:function(t){this.source.type=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this.source.frequency},enumerable:!1,configurable:!0}),e.prototype.load=function(t){throw"Synth#load should not be called!"},e.prototype.play=function(t){return void 0===t&&(t=0),this.envelope.activate(t),this.source},e.prototype.unload=function(){throw"Synth#unload should not be called!"},e}(a),h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(t){function e(e,n,o){var i=new MediaElementAudioSourceNode(e,{mediaElement:o?new Audio(o):new Audio});return t.call(this,e,i,n)||this}return h(e,t),e.prototype.load=function(t){return this.source.mediaElement.src=t,this.source.mediaElement.load(),!0},e.prototype.unload=function(){this.source.mediaElement.src=""},e.prototype.play=function(){return t=this,e=void 0,o=function(){var t=this;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(e){return[2,this.source.mediaElement.play().then((function(){return t.source})).catch((function(){return null}))]}))},new((n=void 0)||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function u(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((o=o.apply(t,e||[])).next())}));var t,e,n,o},e.prototype.stop=function(){this.source.mediaElement.pause(),this.source.mediaElement.currentTime=0},e.prototype.setPause=function(t){t?this.source.mediaElement.pause():this.source.mediaElement.play()},Object.defineProperty(e.prototype,"paused",{get:function(){return this.source.mediaElement.paused},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.source.mediaElement.src="",t.prototype.dispose.call(this)},e}(a),d=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},y=function(){function t(){this.callbacks=[]}return t.prototype.addListener=function(t,e){void 0===e&&(e=null),this.callbacks.push({context:e,callback:t})},t.prototype.removeListener=function(t,e){void 0===e&&(e=null);for(var n=0;n<this.callbacks.length;++n)if(Object.is(this.callbacks[n].callback,t)&&(!e||Object.is(this.callbacks[n].context,e)))return this.callbacks.splice(n,1),!0;return!1},t.prototype.invoke=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var i=0;i<this.callbacks.length;++i)this.callbacks[i].context?(t=this.callbacks[i].callback).call.apply(t,d([this.callbacks[i].context],n,!1)):(e=this.callbacks[i]).callback.apply(e,n)},Object.defineProperty(t.prototype,"length",{get:function(){return this.callbacks.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.callbacks=[]},t}();function b(t,e){return n=this,o=void 0,r=function(){var n;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(o){switch(o.label){case 0:return[4,fetch(e)];case 1:return[4,o.sent().arrayBuffer()];case 2:return n=o.sent(),[2,t.decodeAudioData(n)]}}))},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(r.next(t))}catch(t){e(t)}}function u(t){try{c(r.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,u)}c((r=r.apply(n,o||[])).next())}));var n,o,i,r}var g,v,w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=function(t){function e(e,n,o){var i=t.call(this,e,null,n)||this;return i.defaults={buffer:null,loop:!1,playbackRate:1,detune:0,loopStart:0,loopEnd:0},i.onended=new y,i.onendedHandler=i.onendedHandler.bind(i),o&&i.load(o),i}return w(e,t),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return null!==this.defaults.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"looping",{get:function(){return this.defaults.loop},set:function(t){this.defaults.loop=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopStart",{get:function(){return this.defaults.loopStart},set:function(t){this.defaults.loopStart=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopEnd",{get:function(){return this.defaults.loopEnd},set:function(t){this.defaults.loopEnd=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this.defaults.playbackRate},set:function(t){this.defaults.playbackRate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"detune",{get:function(){return this.defaults.detune},set:function(t){this.defaults.detune=t},enumerable:!1,configurable:!0}),e.prototype.load=function(t){return e=this,n=void 0,i=function(){var e=this;return function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(s=0)),s;)try{if(n=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,o=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],o=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(n){return[2,b(this.context,t).then((function(t){return e.defaults.buffer=t,!0})).catch((function(t){return console.error(t),!1}))]}))},new((o=void 0)||(o=Promise))((function(t,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,u)}c((i=i.apply(e,n||[])).next())}));var e,n,o,i},e.prototype.onendedHandler=function(t){this.onended.invoke(t.target,this)},e.prototype.unload=function(){this.defaults.buffer=null},e.prototype.play=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var o=this.defaults?new AudioBufferSourceNode(this.context,this.defaults):new AudioBufferSourceNode(this.context);return o.connect(this.effects.input),o.onended=this.onendedHandler,void 0===n?o.start(this.context.currentTime+t,e):o.start(this.context.currentTime+t,e,n),o},e}(a),S=function(){function t(){this.mContext=null,this.mBusses=null,this.mSounds=new Map,this.mMusic=new Map,this.mSynths=new Map}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mContext.listener},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"busses",{get:function(){return this.mBusses},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.mContext},enumerable:!1,configurable:!0}),t.prototype.getSound=function(t){return this.mSounds.get(t)||null},t.prototype.getMusic=function(t){return this.mMusic.get(t)||null},t.prototype.getSynth=function(t){return this.mSynths.get(t)||null},t.prototype.loadSound=function(t,e){var n=this.mSounds.get(t);if(!n){var o=e?this.mBusses.get(e):this.mBusses.master;o||(o=this.mBusses.master),n=new T(this.context,o.input),this.mSounds.set(t,n),n.load(t).then((function(){return n})).catch((function(){return null}))}return n},t.prototype.loadMusic=function(t,e){var n=this.mMusic.get(t);if(!n){var o=e?this.mBusses.get(e):this.mBusses.master;o||(o=this.mBusses.master),n=new m(this.context,o.input),this.mMusic.set(t,n),n.load(t)}return n},t.prototype.loadSynth=function(t,e,n){void 0===e&&(e="master");var o=this.mSynths.get(t);if(!o){var i=this.mBusses.get(e);o=new f(this.context,i.input,n),this.mSynths.set(t,o)}return o},t.prototype.wasInit=function(){return null!==this.mContext},t.prototype.init=function(){var t=null;try{t=new(window.AudioContext||window.webkitAudioContext)}catch(t){return console.error("AudioContext is not supported in this browser."),!1}return function(t){"running"!==t.state&&window.addEventListener(c,(function e(){t.resume().then((function(){console.log("Resumed AudioContext."),window.removeEventListener(c,e)})).catch((function(t){console.log("Failed to resume AudioContext:",t)}))}))}(t),this.mBusses=new u(t),this.mContext=t,!0},t.prototype.dispose=function(){this.mBusses.dispose(),this.mMusic.forEach((function(t){return t.dispose()})),this.mMusic.clear(),this.mMusic=null,this.mSounds.forEach((function(t){return t.dispose()})),this.mSounds.clear(),this.mSounds=null,this.mContext=null},t}(),P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(t){t[t.Standby=0]="Standby",t[t.CountDown=1]="CountDown",t[t.PlayTones=2]="PlayTones",t[t.AwaitResponse=3]="AwaitResponse",t[t.Response=4]="Response",t[t.RewardTone=5]="RewardTone",t[t.Result=6]="Result",t[t.MAX_COUNT=7]="MAX_COUNT"}(g||(g={})),function(t){t[t.Start=0]="Start",t[t.Progress=1]="Progress",t[t.Lose=2]="Lose"}(v||(v={}));var O={turnNumber:0,progress:0,speed:800,gameState:g.Standby},E=function(t){function e(){var e={buttons:document.querySelector(".buttons"),playAgain:document.getElementById("play-again"),order:new Uint8Array(30),volume:document.querySelector("#volume"),audio:new S,roundDisplay:document.getElementById("round-display")};return t.call(this,e,O)||this}return P(e,t),e.prototype.startGame=function(){this.reducer(v.Start,null)},e.prototype.progress=function(){this.reducer(v.Progress,null)},e.prototype.lose=function(){this.reducer(v.Lose,null)},e.prototype.genButtonOrder=function(){for(var t=0;t<this.props.order.length;++t)this.props.order[t]=Math.floor(4*Math.random())},e.prototype.reducerImpl=function(t,e,n){switch(t){case v.Start:return this.genButtonOrder(),Object.assign({},O,{gameState:g.PlayTones});case v.Progress:var o={},i=n.progress+1;return i>n.turnNumber?(o.progress=0,n.gameState===g.PlayTones?o.gameState=g.AwaitResponse:n.gameState!==g.Response&&n.gameState!==g.AwaitResponse||(o.turnNumber=n.turnNumber+1,o.gameState=g.PlayTones)):(n.gameState===g.AwaitResponse&&(o.gameState=g.Response),o.progress=i),Object.assign({},n,o);case v.Lose:return Object.assign({},n,{gameState:g.Result});default:return n}},e}(e),k=function(){function t(t){this.model=t,t.onStateUpdated=this.render.bind(this)}return t.prototype.render=function(t){this.renderImpl(t)},t.prototype.cleanup=function(){this.model.onStateUpdated=null},t}(),x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),j=function(t){function e(e){return t.call(this,e)||this}return x(e,t),e.prototype.renderImpl=function(t){var e=t.props.roundDisplay.children[0],n=t.props.roundDisplay.children[1];(t.state.gameState===g.PlayTones&&t.state.progress>0||0===t.state.turnNumber)&&(e.innerText="ROUND",n.innerText=(t.state.turnNumber+1).toString())},e}(k),A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),L=function(t){function e(e){var n=t.call(this,e)||this;return n.keydownHandler=n.keydownHandler.bind(n),e.props.audio.init(),b(e.props.audio.context,"audio/ir-cinema-room.wav").then((function(t){n.ir=t,n.init()})),n}return A(e,t),e.prototype.init=function(){this.initOverlay(),this.initVolumeSlider(),this.initPlayAgainButton(),this.initAudio(),this.initButtons(),this.initKeyboardControls()},e.prototype.initAudio=function(){var t=this.model.props.audio,e=t.busses.master.effects.push(ConvolverNode,{buffer:this.ir});t.busses.master.effects.push(BiquadFilterNode,{type:"lowpass",frequency:300,Q:2,gain:.5}),e.setWetDry(.17);var n="sawtooth",o=.05,i=.1,r=.2,s=.25;t.loadSynth("red-button","master",{type:n,frequency:279.42}).envelope.set({attackTime:o,decayTime:s,sustainLevel:r,holdTime:0,releaseTime:i}),t.loadSynth("green-button","master",{type:n,frequency:418.65}).envelope.set({attackTime:o,decayTime:s,sustainLevel:r,holdTime:0,releaseTime:i}),t.loadSynth("blue-button","master",{type:n,frequency:554}).envelope.set({attackTime:o,decayTime:s,sustainLevel:r,holdTime:0,releaseTime:i}),t.loadSynth("yellow-button","master",{type:n,frequency:469.92}).envelope.set({attackTime:o,decayTime:s,sustainLevel:r,holdTime:0,releaseTime:i}),t.loadSynth("you-lost","master",{type:"sine",frequency:200}).envelope.set({attackTime:0,decayTime:s,sustainLevel:r,holdTime:.3,releaseTime:i});var u=new f(t.context);u.gain.value=200,u.type="sine",u.frequency.value=333,u.connect(t.getSynth("you-lost").frequency),console.log(t.getSynth("you-lost"))},e.prototype.initOverlay=function(){var t=this,e=document.getElementById("overlay");e.addEventListener("click",(function(n){n.stopPropagation(),e.classList.contains("hide")||(e.classList.add("hide"),t.model.startGame(),t.resetButtonsClass(),setTimeout((function(){t.playTones(),document.body.removeChild(e)}),1e3))}))},e.prototype.initPlayAgainButton=function(){var t=this,e=this.model.props.playAgain;e.addEventListener("click",(function(n){e.classList.contains("show")&&(e.classList.remove("show"),t.resetButtonsClass(),t.model.startGame(),t.playTones())}))},e.prototype.initKeyboardControls=function(){document.addEventListener("keydown",this.keydownHandler)},e.prototype.initButtons=function(){var t=this,e=this.model.props.buttons;e.addEventListener("click",(function(e){return t.activateButton(e.target)})),e.addEventListener("animationend",(function(t){var e=t.target;"blink"===t.animationName&&(e.classList.remove("blink"),e.children[0].classList.remove("blink"))}))},e.prototype.initVolumeSlider=function(){var t=this,e=document.querySelector("#volume-label > i"),n=this.model.props.volume,o=67;function i(t,e){e.className=0===t?"fa-solid fa-volume-xmark":t<33?"fa-solid fa-volume-off":t<66?"fa-solid fa-volume-low":"fa-solid fa-volume-high"}function r(t,e){e.busses.master.postGain.gain.value=.01*t}n.value=o.toString(),i(o,e),r(o,this.model.props.audio),n.addEventListener("input",(function(s){var u=Number(n.value);o=u,i(u,e),r(u,t.model.props.audio)})),e.addEventListener("click",(function(s){s.stopPropagation();var u=0===Number(n.value)?o:0;i(u,e),r(u,t.model.props.audio),n.value=u.toString()}))},e.prototype.resetButtonsClass=function(){for(var t=this.model.props.buttons.children,e=0;e<t.length;++e){var n=t[e].children[0];n&&(n.classList.remove("lose"),n.classList.remove("blink"))}},e.prototype.activateButton=function(t){var e,n=this;if(t)switch(this.model.state.gameState){case g.Response:case g.AwaitResponse:var o=t.getAttribute("id");this.getAnswerButtonIndex()===function(t){var e;switch(t){case"red-button":e=0;break;case"green-button":e=1;break;case"blue-button":e=2;break;case"yellow-button":e=3;break;default:e=-1}return e}(o)?(this.playButtonAnimSound(t),this.model.progress(),this.model.state.gameState===g.PlayTones&&setTimeout((function(){return n.playTones()}),600)):((e=this.model.props.playAgain).classList.add("show"),e.classList.remove("first-hide"),this.playLoseAnimSound(),this.model.lose())}},e.prototype.playTones=function(){var t=this,e=this.model.props.buttons.children,n=setInterval((function(){t.playButtonAnimSound(e[t.getAnswerButtonIndex()]),t.model.progress(),0===t.model.state.progress&&clearInterval(n)}),this.model.state.speed)},e.prototype.playButtonSound=function(t){var e=this.model.props.audio.getSynth(t.id);e&&e.play()},e.prototype.playLoseAnimSound=function(){for(var t=this.model.props.buttons.children,e=function(e){if(n.getAnswerButtonIndex()!==e){var o=t[e].children[0];o&&o.classList.add("lose")}else{var i=t[e].children[0];i&&setTimeout((function(){return i.classList.add("blink")}),400)}},n=this,o=0;o<t.length;++o)e(o);var i=this.model.props.audio.getSynth("you-lost");i.frequency.value=400,i.play(),setTimeout((function(){i.frequency.value=300,i.play()}),400)},e.prototype.playButtonAnimSound=function(t){this.playButtonSound(t);var e=t.children[0];e.classList.remove("blink"),e.classList.add("blink"),t.classList.remove("blink"),t.classList.add("blink")},e.prototype.getAnswerButtonIndex=function(){return this.model.props.order[this.model.state.progress]},e.prototype.keydownHandler=function(t){if(!t.repeat){var e,n=this.model.props.buttons.children;switch(t.code){case"ArrowLeft":case"KeyA":e=n[3];break;case"ArrowRight":case"KeyD":e=n[1];break;case"ArrowUp":case"KeyW":e=n[0];break;case"ArrowDown":case"KeyS":e=n[2];break;default:e=null}this.activateButton(e)}},e}((function(t){this.model=t})),B=function(){this.model=new E,this.view=new j(this.model),this.controller=new L(this.model)};window.addEventListener("load",(function(){new B}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZUFBZXdCLEVBMUJFLENBMkIxQixFQUNKLEVBbFpBLEVDREksU0FBc0IxRCxHQUNsQnZQLEtBQUt1UCxNQUFRQSxDQUNqQixJQ0ZKLEVBS0ksV0FDSXZQLEtBQUt1UCxNQUFRLElBQUk2RCxFQUNqQnBULEtBQUtxVCxLQUFPLElBQUlDLEVBQVV0VCxLQUFLdVAsT0FDL0J2UCxLQUFLdVQsV0FBYSxJQUFJQyxFQUFnQnhULEtBQUt1UCxNQUMvQyxFQ1hKNUMsT0FBT0ksaUJBQWlCLFFBQVEsV0FDZCxJQUFJMEcsQ0FDdEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9saWIvVUkvTW9kZWwudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbGliL1dlYkFBL3NyYy9BdWRpb0VmZmVjdC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9saWIvV2ViQUEvc3JjL0VmZmVjdENoYWluLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL2xpYi9XZWJBQS9zcmMvU2VuZC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9saWIvV2ViQUEvc3JjL1NlbmRNZ3IudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbGliL1dlYkFBL3NyYy9CdXMudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbGliL1dlYkFBL3NyYy9CdXNNZ3IudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbGliL1dlYkFBL3NyYy9JbnRlcmFjdGlvbi50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9saWIvV2ViQUEvc3JjL1NvdW5kLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL2xpYi9XZWJBQS9zcmMvRW52ZWxvcGUudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbGliL1dlYkFBL3NyYy9Nb25vU3ludGgudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vbGliL1dlYkFBL3NyYy9NdXNpYy50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9saWIvV2ViQUEvc3JjL0RlbGVnYXRlLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL2xpYi9XZWJBQS9zcmMvTG9hZGluZy50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvU2ltb25Nb2RlbC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9saWIvV2ViQUEvc3JjL1NvdW5kRWZmZWN0LnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL2xpYi9XZWJBQS9zcmMvQXVkaW9FbmdpbmUudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2xpYi9VSS9WaWV3LnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9TaW1vblZpZXcudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1NpbW9uQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvbGliL1VJL0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL1NpbW9uLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNb2RlbDxQcm9wcywgU3RhdGUsIEFjdGlvblR5cGU+IHtcbiAgICBzdGF0ZTogU3RhdGU7XG4gICAgcHJvcHM6IFByb3BzO1xuICAgIHN0YXRlSGlzdG9yeToge3N0YXRlOiBTdGF0ZSwgdGltZTogRGF0ZX1bXTtcblxuICAgIG9uU3RhdGVVcGRhdGVkOiAobW9kZWw6IE1vZGVsPFByb3BzLCBTdGF0ZSwgQWN0aW9uVHlwZT4pID0+IHZvaWQgfCBudWxsO1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHByb3BzRGVmYXVsdDogUHJvcHMsIHN0YXRlRGVmYXVsdDogU3RhdGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzRGVmYXVsdDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlRGVmYXVsdDtcbiAgICAgICAgdGhpcy5zdGF0ZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5vblN0YXRlVXBkYXRlZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gVXNlZCBieSBjaGlsZCBjbGFzcyB0byBzZXQgc3RhdGUgdmlhIGl0cyByZWR1Y2VySW1wbFxuICAgIHByb3RlY3RlZCByZWR1Y2VyKHR5cGU6IEFjdGlvblR5cGUsIGRhdGE6IGFueSkge1xuICAgICAgICAvLyBHZXQgcmVzdWx0YW50IHN0YXRlIGZyb20gcmVkdWNlciBpbXBsZW1lbnRhdGlvbiBmcm9tIGNoaWxkIGNsYXNzXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gdGhpcy5yZWR1Y2VySW1wbCh0eXBlLCBkYXRhLCB0aGlzLnN0YXRlKTtcblxuICAgICAgICAvLyBJZiBsYXN0U3RhdGUgd2FzIHJldHVybmVkLCBubyBjaGFuZ2VzIGhhdmUgYmVlbiBtYWRlLCBzbyByZXR1cm5cbiAgICAgICAgaWYgKE9iamVjdC5pcyhuZXdTdGF0ZSwgdGhpcy5zdGF0ZSkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gQ2hhbmdlcyBoYXZlIGJlZW4gbWFkZSwgcmVjb3JkIGFuZCBzZXQgdGhlbS5cbiAgICAgICAgdGhpcy5zdGF0ZUhpc3RvcnkucHVzaCh7c3RhdGU6IG5ld1N0YXRlLCB0aW1lOiBuZXcgRGF0ZSgpfSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXdTdGF0ZTtcblxuICAgICAgICAvLyBGaXJlIGNhbGxiYWNrIHRvIGxpc3RlbmVyXG4gICAgICAgIGlmICh0aGlzLm9uU3RhdGVVcGRhdGVkKVxuICAgICAgICAgICAgdGhpcy5vblN0YXRlVXBkYXRlZCh0aGlzKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnN0YXRlKTtcbiAgICB9XG5cbiAgICAvLyBUbyBiZSBpbXBsZW1lbnRlZCBieSBjaGlsZCBjbGFzcywgYnV0IG5vdCBjYWxsZWQgZGlyZWN0bHkuIFBsZWFzZSB1c2UgcmVkdWNlcigpLlxuICAgIGFic3RyYWN0IHJlZHVjZXJJbXBsKHR5cGU6IEFjdGlvblR5cGUsIGRhdGE6IGFueSwgbGFzdFN0YXRlOiBTdGF0ZSk6IFN0YXRlO1xufSIsImltcG9ydCB7IElEaXNwb3NhYmxlIH0gZnJvbSBcIi4vSW50ZXJmYWNlc1wiO1xuXG4vKipcbiAqIEF1ZGlvRWZmZWN0IGNsYXNzIHdyYXBzIGFuIEF1ZGlvTm9kZSBlZmZlY3QgdW5pdCwgYWRkaW5nIGRyeS93ZXQgY29udHJvbHMsIGFuZFxuICogcHJlLXBvc3QgZ2FpbiBmb3IgZ2Fpbi1zdGFnaW5nLlxuICpcbiAqIEF1ZGlvTm9kZSBHcmFwaDpcbiAqICAgICAgICAgICAgIC9kcnkgICAgICAgICAgIFxcXG4gKiBpbnB1dEdhaW4gPCAgICAgICAgICAgICAgICAgPiBvdXRwdXRHYWluIC0+IHRhcmdldFxuICogICAgICAgICAgICAgXFx3ZXQgLT4gZWZmZWN0IC9cbiAqL1xuZXhwb3J0IGNsYXNzIEF1ZGlvRWZmZWN0PFQgZXh0ZW5kcyBBdWRpb05vZGU+IGltcGxlbWVudHMgSURpc3Bvc2FibGUge1xuICAgIHByaXZhdGUgbUVmZmVjdDogVDtcbiAgICBwcml2YXRlIG1Ecnk6IEdhaW5Ob2RlO1xuICAgIHByaXZhdGUgbVdldDogR2Fpbk5vZGU7XG5cbiAgICBwcml2YXRlIG1JbnB1dDogR2Fpbk5vZGU7XG4gICAgcHJpdmF0ZSBtT3V0cHV0OiBHYWluTm9kZTtcblxuICAgIGdldCBlZmZlY3QoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLm1FZmZlY3Q7XG4gICAgfVxuXG4gICAgZ2V0IGlucHV0KCk6IEdhaW5Ob2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubUlucHV0O1xuICAgIH1cblxuICAgIGdldCBvdXRwdXQoKTogR2Fpbk5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5tT3V0cHV0O1xuICAgIH1cblxuICAgIC8vIERpcmVjdCBhY2Nlc3MgdG8gZHJ5IGdhaW5cbiAgICBnZXQgZHJ5KCk6IEF1ZGlvUGFyYW0ge1xuICAgICAgICByZXR1cm4gdGhpcy5tRHJ5LmdhaW47XG4gICAgfVxuXG4gICAgLy8gRGlyZWN0IGFjY2VzcyB0byB3ZXQgZ2FpblxuICAgIGdldCB3ZXQoKTogQXVkaW9QYXJhbSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1XZXQuZ2FpbjtcbiAgICB9XG5cbiAgICBnZXQgcHJlR2FpbigpOiBHYWluTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1JbnB1dDtcbiAgICB9XG5cbiAgICBnZXQgcG9zdEdhaW4oKTogR2Fpbk5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5tT3V0cHV0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGVmZmVjdDogVCwgdGFyZ2V0PzogQXVkaW9Ob2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBlZmZlY3QuY29udGV4dDtcblxuICAgICAgICB0aGlzLm1FZmZlY3QgPSBlZmZlY3Q7XG4gICAgICAgIHRoaXMubURyeSA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tRHJ5LmdhaW4udmFsdWUgPSAwO1xuICAgICAgICB0aGlzLm1XZXQgPSBuZXcgR2Fpbk5vZGUoY29udGV4dCk7XG4gICAgICAgIHRoaXMubVdldC5nYWluLnZhbHVlID0gMTtcbiAgICAgICAgdGhpcy5tSW5wdXQgPSBuZXcgR2Fpbk5vZGUoY29udGV4dCk7XG4gICAgICAgIHRoaXMubU91dHB1dCA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcblxuICAgICAgICB0aGlzLm1JbnB1dC5jb25uZWN0KHRoaXMubURyeSk7XG4gICAgICAgIHRoaXMubUlucHV0LmNvbm5lY3QodGhpcy5tV2V0KTtcbiAgICAgICAgdGhpcy5tRHJ5LmNvbm5lY3QodGhpcy5tT3V0cHV0KTtcbiAgICAgICAgdGhpcy5tV2V0LmNvbm5lY3QodGhpcy5tRWZmZWN0KTtcbiAgICAgICAgdGhpcy5tRWZmZWN0LmNvbm5lY3QodGhpcy5tT3V0cHV0KTtcbiAgICAgICAgdGhpcy5tT3V0cHV0LmNvbm5lY3QodGFyZ2V0IHx8IGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIGNvbm5lY3QoYXVkaW9Ob2RlOiBBdWRpb05vZGUpIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMubU91dHB1dC5jb25uZWN0KGF1ZGlvTm9kZSk7XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5tT3V0cHV0LmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICAvLyBCYWxhbmNlcyB3ZXQgYW5kIGRyeS4gVmFsdWUgb2Ygd2V0IGlzIHNldCB0byBwZXJjZW50LCBhbmQgZHJ5IGlzIHNldCB0byAxLXBlcmNlbnRcbiAgICBzZXRXZXREcnkocGVyY2VudDogbnVtYmVyLCByYW1wVGltZTogbnVtYmVyID0gMCkge1xuICAgICAgICBwZXJjZW50ID0gTWF0aC5taW4oTWF0aC5tYXgocGVyY2VudCwgMCksIDEpO1xuICAgICAgICBpZiAocmFtcFRpbWUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5tRWZmZWN0LmNvbnRleHQuY3VycmVudFRpbWUgKyByYW1wVGltZTtcbiAgICAgICAgICAgIHRoaXMubURyeS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDEgLSBwZXJjZW50LCB0aW1lKTtcbiAgICAgICAgICAgIHRoaXMubVdldC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHBlcmNlbnQsIHRpbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tRHJ5LmdhaW4udmFsdWUgPSAxIC0gcGVyY2VudDtcbiAgICAgICAgICAgIHRoaXMubVdldC5nYWluLnZhbHVlID0gcGVyY2VudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFdldChwZXJjZW50OiBudW1iZXIsIHJhbXBUaW1lOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHBlcmNlbnQgPSBNYXRoLm1heChwZXJjZW50LCAwKTtcbiAgICAgICAgaWYgKHJhbXBUaW1lID4gMClcbiAgICAgICAgICAgIHRoaXMubVdldC5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHBlcmNlbnQsXG4gICAgICAgICAgICAgICAgdGhpcy5tRWZmZWN0LmNvbnRleHQuY3VycmVudFRpbWUgKyByYW1wVGltZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubVdldC5nYWluLnZhbHVlID0gcGVyY2VudDtcbiAgICB9XG5cbiAgICBzZXREcnkocGVyY2VudDogbnVtYmVyLCByYW1wVGltZTogbnVtYmVyID0gMCkge1xuICAgICAgICBwZXJjZW50ID0gTWF0aC5tYXgocGVyY2VudCwgMCk7XG4gICAgICAgIGlmIChyYW1wVGltZSA+IDApXG4gICAgICAgICAgICB0aGlzLm1EcnkuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShwZXJjZW50LFxuICAgICAgICAgICAgICAgIHRoaXMubUVmZmVjdC5jb250ZXh0LmN1cnJlbnRUaW1lICsgcmFtcFRpbWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1EcnkuZ2Fpbi52YWx1ZSA9IHBlcmNlbnQ7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5tRHJ5LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tV2V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tRWZmZWN0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tSW5wdXQuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1PdXRwdXQuZGlzY29ubmVjdCgpO1xuXG4gICAgICAgIHRoaXMubURyeSA9IG51bGw7XG4gICAgICAgIHRoaXMubVdldCA9IG51bGw7XG4gICAgICAgIHRoaXMubUVmZmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMubUlucHV0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tT3V0cHV0ID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBdWRpb0VmZmVjdCB9IGZyb20gXCIuL0F1ZGlvRWZmZWN0XCI7XG5pbXBvcnQgeyBJRGlzcG9zYWJsZSB9IGZyb20gXCIuL0ludGVyZmFjZXNcIjtcblxuLy8gTWFuYWdlcyBhbiBhcnJheSBvZiBhdWRpbyBGWCBjaGFpbmVkIHRvZ2V0aGVyXG5leHBvcnQgY2xhc3MgRWZmZWN0Q2hhaW4gaW1wbGVtZW50cyBJRGlzcG9zYWJsZSB7XG4gICAgcHJpdmF0ZSBtUHJlR2FpbjogR2Fpbk5vZGU7XG4gICAgcHJpdmF0ZSBtUG9zdEdhaW46IEdhaW5Ob2RlO1xuICAgIHByaXZhdGUgbUVmZmVjdHM6IEF1ZGlvRWZmZWN0PGFueT5bXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1Db250ZXh0OiBBdWRpb0NvbnRleHQ7XG5cbiAgICBnZXQgaW5wdXQoKTogQXVkaW9Ob2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubVByZUdhaW47XG4gICAgfVxuICAgIGdldCBvdXRwdXQoKTogQXVkaW9Ob2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubVBvc3RHYWluO1xuICAgIH1cblxuICAgIGNvbm5lY3QobmV3VGFyZ2V0OiBBdWRpb05vZGUgfCBBdWRpb1BhcmFtKSB7XG4gICAgICAgIHRoaXMub3V0cHV0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5vdXRwdXQuY29ubmVjdChuZXdUYXJnZXQgYXMgQXVkaW9QYXJhbSk7XG4gICAgfVxuXG4gICAgZ2V0IGNvbnRleHQoKTogQmFzZUF1ZGlvQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLm1QcmVHYWluLmNvbnRleHQ7XG4gICAgfVxuXG4gICAgZ2V0IHByZUdhaW4oKTogR2Fpbk5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5tUHJlR2FpbjtcbiAgICB9XG5cbiAgICBnZXQgZ2FpbigpOiBHYWluTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1Qb3N0R2FpbjtcbiAgICB9XG5cbiAgICAvLyB0aGUgc2l6ZSBvZiB0aGUgZWZmZWN0IGNoYWluIG5vdCBpbmNsdWRpbmcgcHJlR2FpbiBhbmQgdGFyZ2V0IG5vZGVzLlxuICAgIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubUVmZmVjdHMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRleHRcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFRhcmdldCBlbmQtcG9pbnQgdG8gY29ubmVjdCB0by4gSWYgbm8gdGFyZ2V0IGlzIGV4cGxpY2l0bHkgZ2l2ZW4sXG4gICAgICogaXQgd2lsbCBiZSBzZXQgdG8gdGhlIGNvbnRleHQncyBkZXN0aW5hdGlvbiBvdXRwdXRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBBdWRpb0NvbnRleHQsIHRhcmdldD86IEF1ZGlvTm9kZSkge1xuICAgICAgICB0aGlzLm1Db250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tUHJlR2FpbiA9IG5ldyBHYWluTm9kZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4gPSBuZXcgR2Fpbk5vZGUoY29udGV4dCk7XG4gICAgICAgIHRoaXMubVByZUdhaW4uY29ubmVjdCh0aGlzLm1Qb3N0R2Fpbik7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3QodGFyZ2V0IHx8IGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLm1FZmZlY3RzID0gW107XG4gICAgfVxuXG4gICAgLy8gLyoqXG4gICAgLy8gICogUHVzaCBhbiBlZmZlY3Qgb250byB0aGVcbiAgICAvLyAgKiBAcGFyYW0gZWZmZWN0VHlwZVxuICAgIC8vICAqIEBwYXJhbSBvcHRpb25zXG4gICAgLy8gICovXG4gICAgLy8gcHVzaDxUIGV4dGVuZHMgQXVkaW9FZmZlY3Q8YW55Pj4oZWZmZWN0VHlwZTogbmV3KHA/OiBhbnkpID0+IFQsIG9wdGlvbnM/OiBhbnkpOiBUIHtcbiAgICAvLyAgICAgbGV0IG5ld0ZYOiBUID0gKG9wdGlvbnMpID8gbmV3IGVmZmVjdFR5cGUob3B0aW9ucykgOiBuZXcgZWZmZWN0VHlwZTtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMucHVzaEV4aXN0aW5nKG5ld0ZYKTtcbiAgICAvLyB9XG5cbiAgICBwdXNoRWZmZWN0PFQgZXh0ZW5kcyBBdWRpb05vZGU+KG5vZGU6IFQpOiBBdWRpb0VmZmVjdDxUPiB7XG4gICAgICAgIC8vIEF1ZGlvTm9kZSB3cmFwcGVkIGFuZCB0YXJnZXQgc2V0XG4gICAgICAgIGNvbnN0IG5ld0Z4ID0gbmV3IEF1ZGlvRWZmZWN0PFQ+KG5vZGUsIHRoaXMub3V0cHV0KTtcblxuICAgICAgICAvLyBjb25uZWN0IGxhc3QgZWZmZWN0IHRvIHRoZSBuZXdGWFxuICAgICAgICBjb25zdCBiZWZvcmUgPSAodGhpcy5tRWZmZWN0cy5sZW5ndGggPT09IDApID8gdGhpcy5pbnB1dCA6XG4gICAgICAgICAgICB0aGlzLm1FZmZlY3RzW3RoaXMubUVmZmVjdHMubGVuZ3RoIC0gMV0ub3V0cHV0O1xuICAgICAgICBiZWZvcmUuZGlzY29ubmVjdCgpO1xuICAgICAgICBiZWZvcmUuY29ubmVjdChuZXdGeC5pbnB1dCk7XG5cbiAgICAgICAgLy8gZG9uZSwgY29tbWl0IGNoYW5nZXNcbiAgICAgICAgdGhpcy5tRWZmZWN0cy5wdXNoKG5ld0Z4KTtcbiAgICAgICAgcmV0dXJuIG5ld0Z4O1xuICAgIH1cblxuICAgIHB1c2g8VCBleHRlbmRzIEF1ZGlvTm9kZSwgT3B0cz4odHlwZTogbmV3KGN0eDogQmFzZUF1ZGlvQ29udGV4dCwgb3B0cz86IE9wdHMpID0+IFQsIG9wdHM/OiBPcHRzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBvcHRzID8gbmV3IHR5cGUodGhpcy5jb250ZXh0LCBvcHRzKSA6IG5ldyB0eXBlKHRoaXMuY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLnB1c2hFZmZlY3Qobm9kZSk7XG4gICAgfVxuXG4gICAgaW5zZXJ0RWZmZWN0PFQgZXh0ZW5kcyBBdWRpb05vZGU+KG5vZGU6IFQsIGlkeDogbnVtYmVyID0gMCk6IEF1ZGlvRWZmZWN0PFQ+IHtcbiAgICAgICAgLy8gd3JhcCBBdWRpb05vZGVcbiAgICAgICAgY29uc3QgbmV3RnggPSBuZXcgQXVkaW9FZmZlY3Q8VD4obm9kZSk7XG5cbiAgICAgICAgLy8gY2xhbXAgaW5kZXhcbiAgICAgICAgaWR4ID0gKHRoaXMubUVmZmVjdHMubGVuZ3RoID09PSAwKSA/IDAgOlxuICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5tYXgoMCwgaWR4KSwgdGhpcy5tRWZmZWN0cy5sZW5ndGgtMSk7XG5cbiAgICAgICAgLy8gc3BsaWNlIGNvbm5lY3Rpb25zXG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IGlkeCA9PT0gMCA/IHRoaXMuaW5wdXQ6IHRoaXMubUVmZmVjdHNbaWR4IC0gMV0ub3V0cHV0O1xuICAgICAgICBjb25zdCBhZnRlciA9IGlkeCA+PSB0aGlzLm1FZmZlY3RzLmxlbmd0aCAtIDEgPyB0aGlzLm91dHB1dCA6IHRoaXMubUVmZmVjdHNbaWR4XS5pbnB1dDtcblxuICAgICAgICBiZWZvcmUuZGlzY29ubmVjdCgpO1xuICAgICAgICBiZWZvcmUuY29ubmVjdChuZXdGeC5pbnB1dCk7XG4gICAgICAgIG5ld0Z4LmNvbm5lY3QoYWZ0ZXIpO1xuXG4gICAgICAgIC8vIGRvbmUsIGNvbW1pdCBjaGFuZ2VzXG4gICAgICAgIHRoaXMubUVmZmVjdHMuc3BsaWNlKGlkeCwgMCwgbmV3RngpO1xuICAgICAgICByZXR1cm4gbmV3Rng7XG4gICAgfVxuXG4gICAgaW5zZXJ0PFQgZXh0ZW5kcyBBdWRpb05vZGUsIE9wdHM+KHR5cGU6IG5ldyhjdHg6IEJhc2VBdWRpb0NvbnRleHQsIG9wdHM/OiBPcHRzKSA9PiBULCBpZHg6IG51bWJlciA9IDAsIG9wdHM/OiBPcHRzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSAob3B0cykgPyBuZXcgdHlwZSh0aGlzLmNvbnRleHQsIG9wdHMpIDogbmV3IHR5cGUodGhpcy5jb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0RWZmZWN0KG5vZGUsIGlkeCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWZmZWN0IHR5cGUgZnJvbSB0aGUgRlggY2hhaW4uXG4gICAgICogQHBhcmFtIGVmZmVjdFR5cGUgdHlwZSBvZiBlZmZlY3QgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIGRpc2Nvbm5lY3RlZCBlZmZlY3QgaWYgb25lIHdhcyBmb3VuZCwgb3IgbnVsbCBpZiBub25lIGZvdW5kLlxuICAgICAqL1xuICAgIHJlbW92ZTxUIGV4dGVuZHMgQXVkaW9Ob2RlPihlZmZlY3RUeXBlOiBuZXcoKSA9PiBUKTogQXVkaW9FZmZlY3Q8VD4gfCBudWxsIHtcbiAgICAgICAgLy8gdmlzaXQgZWZmZWN0cyB0byBmaW5kIG9uZSB0byByZW1vdmVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1FZmZlY3RzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tRWZmZWN0c1tpXS5lZmZlY3QgaW5zdGFuY2VvZiBlZmZlY3RUeXBlKSB7ICAvLyBmb3VuZCBtYXRjaGluZyB0eXBlIVxuICAgICAgICAgICAgICAgIC8vIHJlY29ubmVjdCBub2Rlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMubUVmZmVjdHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gKGkgPT09IDApID8gdGhpcy5pbnB1dCA6IHRoaXMubUVmZmVjdHNbaSAtIDFdLm91dHB1dDtcbiAgICAgICAgICAgICAgICBjb25zdCBhZnRlciA9IChpID09PSB0aGlzLm1FZmZlY3RzLmxlbmd0aCAtIDEpID8gdGhpcy5vdXRwdXQgOiB0aGlzLm1FZmZlY3RzW2kgKyAxXS5pbnB1dDtcblxuICAgICAgICAgICAgICAgIGVmZmVjdC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgYmVmb3JlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBiZWZvcmUuY29ubmVjdChhZnRlcik7XG5cbiAgICAgICAgICAgICAgICAvLyBkb25lLCBjb21taXQgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHRoaXMubUVmZmVjdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlZmZlY3QgYXMgQXVkaW9FZmZlY3Q8VD47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBlZmZlY3QgcmVtb3ZlZFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBHZXQgZmlyc3QgZWZmZWN0IG9mIGVmZmVjdFR5cGUuIFJldHVybnMgbnVsbCBpZiBub25lIGV4aXN0cy5cbiAgICAvLyAoRG9lcyBub3QgaW5jbHVkZSBwcmVHYWluIG5vZGUgb3IgdGFyZ2V0IGVuZCBwb2ludClcbiAgICBnZXQ8VCBleHRlbmRzIEF1ZGlvTm9kZT4oZWZmZWN0VHlwZTogbmV3KG9wdHM/OiBhbnkpID0+IFQpOiBBdWRpb0VmZmVjdDxUPiB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROdGgoZWZmZWN0VHlwZSwgMSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBlZmZlY3RzIG9mIGVmZmVjdFR5cGUuXG4gICAgZ2V0QWxsT2Y8VCBleHRlbmRzIEF1ZGlvTm9kZT4oZWZmZWN0VHlwZTogbmV3KG9wdHM/OiBhbnkpID0+IFQpOiBBdWRpb0VmZmVjdDxUPltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubUVmZmVjdHMuZmlsdGVyKGZ4ID0+IGZ4LmVmZmVjdCBpbnN0YW5jZW9mIGVmZmVjdFR5cGUpIGFzIEF1ZGlvRWZmZWN0PFQ+W107XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBudGggZWZmZWN0IG9mIGVmZmVjdFR5cGUuXG4gICAgZ2V0TnRoPFQgZXh0ZW5kcyBBdWRpb05vZGU+KGVmZmVjdFR5cGU6IG5ldyhvcHRzPzogYW55KSA9PiBULCBuOiBudW1iZXIpOiBBdWRpb0VmZmVjdDxUPiB8IG51bGwge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubUVmZmVjdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1FZmZlY3RzW2ldLmVmZmVjdCBpbnN0YW5jZW9mIGVmZmVjdFR5cGUgJiYgLS1uIDw9IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubUVmZmVjdHNbaV0gYXMgQXVkaW9FZmZlY3Q8VD47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLm1QcmVHYWluLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1FZmZlY3RzLmZvckVhY2goZWZmZWN0ID0+IGVmZmVjdC5kaXNwb3NlKCkpO1xuXG4gICAgICAgIHRoaXMubVBvc3RHYWluID0gbnVsbDtcbiAgICAgICAgdGhpcy5tUHJlR2FpbiA9IG51bGw7XG4gICAgICAgIHRoaXMubUVmZmVjdHMgPSBudWxsO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBTZW5kIGNsYXNzIHJlcHJlc2VudHMgYXVkaW8gcm91dGluZyB0aGF0IGNsb25lcyBpdHMgc2lnbmFsIGFuZCBzZW5kcyBpdCBhdCB2YXJ5aW5nIGxldmVscyB0b1xuLy8gb3RoZXIgYXVkaW8gaW5wdXRzLiBUaGVzZSBhcmUgdXN1YWxseSBzZW50IHRvIG90aGVyIGJ1c2VzIG9yIGVmZmVjdHMuXG5cbmV4cG9ydCBjbGFzcyBTZW5kIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1Ob2RlOiBHYWluTm9kZTtcbiAgICBwcml2YXRlIG1UYXJnZXQ6IEF1ZGlvTm9kZTtcblxuICAgIGdldCBnYWluKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tTm9kZS5nYWluO1xuICAgIH1cblxuICAgIGdldCBpbnB1dCgpOiBBdWRpb05vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5tTm9kZTtcbiAgICB9XG5cbiAgICBzZXQgdGFyZ2V0KHZhbHVlOiBBdWRpb05vZGUpIHtcbiAgICAgICAgdGhpcy5tVGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMubU5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1Ob2RlLmNvbm5lY3QodmFsdWUpO1xuICAgIH1cblxuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1UYXJnZXQ7XG4gICAgfVxuXG4gICAgZ2V0IGhhc1RhcmdldCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubVRhcmdldCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBBdWRpb0NvbnRleHQsIHRhcmdldD86IEF1ZGlvTm9kZSkge1xuICAgICAgICB0aGlzLm1Ob2RlID0gY29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHRoaXMubVRhcmdldCA9IHRhcmdldCB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3Qgc2VuZCB0byBhIHRhcmdldCBub2RlXG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqL1xuICAgIGNvbm5lY3QodGFyZ2V0OiBBdWRpb05vZGUpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBzZW5kIGZyb20gY3VycmVudCB0YXJnZXRcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLm1Ob2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tVGFyZ2V0ID0gbnVsbDtcbiAgICB9XG59XG4iLCIvLyBUaGUgU2VuZE1nciBtYW5hZ2VzIGEgbGlzdCBvZiBTZW5kcywgdXNlZnVsIHRvIGJyb2FkY2FzdCBpbnB1dCBzaWduYWxzIHRvIG90aGVyIHNvdXJjZXMuXG5pbXBvcnQge1NlbmR9IGZyb20gXCIuL1NlbmRcIjtcblxuZXhwb3J0IGNsYXNzIFNlbmRNZ3Ige1xuICAgIHByaXZhdGUgbVNlbmRzOiBTZW5kW107XG4gICAgcHJpdmF0ZSByZWFkb25seSBtQ29udGV4dDogQXVkaW9Db250ZXh0O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbUlucHV0OiBHYWluTm9kZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEF1ZGlvQ29udGV4dCkge1xuICAgICAgICB0aGlzLm1Db250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5tU2VuZHMgPSBbXTtcbiAgICAgICAgdGhpcy5tSW5wdXQgPSBuZXcgR2Fpbk5vZGUoY29udGV4dCk7XG4gICAgfVxuXG4gICAgZ2V0IGlucHV0KCk6IEF1ZGlvTm9kZSB7IHJldHVybiB0aGlzLm1JbnB1dDsgfVxuXG4gICAgY3JlYXRlKHRhcmdldDogQXVkaW9Ob2RlKTogU2VuZCB7XG4gICAgICAgIGNvbnN0IG5ld1NlbmQgPSBuZXcgU2VuZCh0aGlzLm1Db250ZXh0LCB0YXJnZXQpO1xuICAgICAgICB0aGlzLm1JbnB1dC5jb25uZWN0KG5ld1NlbmQuaW5wdXQpO1xuICAgICAgICB0aGlzLm1TZW5kcy5wdXNoKG5ld1NlbmQpO1xuICAgICAgICByZXR1cm4gbmV3U2VuZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBTZW5kIHByZXZpb3VzbHkgY3JlYXRlZCBvbiB0aGlzIHNlbmQgbWFuYWdlclxuICAgICAqIEBwYXJhbSBpZHhPclRhcmdldCBpZiBpbmRleCwgaXQgbXVzdCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgU2VuZE1nciNsZW5ndGguIElmIGFuIEF1ZGlvTm9kZSB0YXJnZXQsXG4gICAgICogaXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IFNlbmQgdGhhdCBpcyB0YXJnZXRpbmcgdGhlIEF1ZGlvTm9kZS4gSWYgbm9uZSBleGlzdHMsIG51bGwgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgZ2V0KGlkeE9yVGFyZ2V0OiBudW1iZXIgfCBBdWRpb05vZGUpOiBTZW5kIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGlkeE9yVGFyZ2V0ID09PSBcIm51bWJlclwiKSA/XG4gICAgICAgICAgICB0aGlzLm1TZW5kc1tpZHhPclRhcmdldF0gfHwgbnVsbCA6XG4gICAgICAgICAgICB0aGlzLm1TZW5kcy5maW5kKHNlbmQgPT4gT2JqZWN0LmlzKHNlbmQudGFyZ2V0LCBpZHhPclRhcmdldCkpIHx8IG51bGw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzZW5kIGJlbG9uZ2luZyB0byB0aGlzIFNlbmRNZ3IsIGNhY2hlZCBieSB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0gc2VuZFxuICAgICAqIEByZXR1cm5zIHRydWU6IGlmIHNlbmQgd2FzIHN1Y2Nlc3NmdWxseSByZW1vdmVkO1xuICAgICAqIGZhbHNlOiBpZiBpdCBkaWQgbm90IGV4aXN0IGluIHRoZSBjb250YWluZXIuXG4gICAgICovXG4gICAgcmVtb3ZlKHNlbmQ6IFNlbmQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1TZW5kcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5pcyh0aGlzLm1TZW5kc1tpXSwgc2VuZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFuU2VuZChzZW5kKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1TZW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBzZW5kc1xuICAgICAqL1xuICAgIHJlbW92ZUFsbCgpIHtcbiAgICAgICAgdGhpcy5tU2VuZHMuZm9yRWFjaChzZW5kID0+IHRoaXMuY2xlYW5TZW5kKHNlbmQpKTtcbiAgICAgICAgdGhpcy5tU2VuZHMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIHdoZW4gXCJkZXN0cnVjdGluZ1wiIHRoZSBTZW5kTWdyXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbnVtYmVyIG9mIHNlbmRzIHN0b3JlZFxuICAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1TZW5kcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgc2VuZHMgdGhhdCBoYXZlIGEgc3BlY2lmaWVkIHRhcmdldFxuICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgKi9cbiAgICByZW1vdmVJZlRhcmdldGluZyh0YXJnZXQ6IEF1ZGlvTm9kZSkge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5tU2VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVNlbmRzW2ldLnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5TZW5kKHRoaXMubVNlbmRzW2ldKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1TZW5kcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhlbHBlcjogY2xlYW5zL3JlbW92ZXMgYWxsIGNvbm5lY3Rpb25zIGluIGFuIGludGVybmFsIFNlbmRcbiAgICBwcml2YXRlIGNsZWFuU2VuZChzZW5kOiBTZW5kKSB7XG4gICAgICAgIHNlbmQuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1JbnB1dC5kaXNjb25uZWN0KHNlbmQuaW5wdXQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFZmZlY3RDaGFpbiB9IGZyb20gXCIuL0VmZmVjdENoYWluXCI7XG5pbXBvcnQgeyBJRGlzcG9zYWJsZSB9IGZyb20gXCIuL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IFNlbmRNZ3IgfSBmcm9tIFwiLi9TZW5kTWdyXCI7XG5cbi8vIEJ1cyBjb25uZWN0aW9uIGdyYXBoOiAtPiBbZnhdIC0+IHBhbm5lci1ub2RlIC0+IHBvc3QtZ2FpblxuZXhwb3J0IGNsYXNzIEJ1cyBpbXBsZW1lbnRzIElEaXNwb3NhYmxlIHtcbiAgICBwcm90ZWN0ZWQgbVBvc3RHYWluOiBHYWluTm9kZTtcbiAgICBwcm90ZWN0ZWQgbVBhbm5lcjogU3RlcmVvUGFubmVyTm9kZTtcbiAgICBwcm90ZWN0ZWQgbUVmZmVjdHM6IEVmZmVjdENoYWluO1xuICAgIHByb3RlY3RlZCBtU2VuZHM6IFNlbmRNZ3I7XG5cbiAgICAvLyBUbyBjb25uZWN0IGEgbm9kZSB0byB0aGlzIGJ1cywgcGFzcyB0aGlzIHRvIEF1ZGlvTm9kZSNjb25uZWN0XG4gICAgZ2V0IGlucHV0KCk6IEF1ZGlvTm9kZSB7IHJldHVybiB0aGlzLm1FZmZlY3RzLmlucHV0OyB9XG5cbiAgICBnZXQgZWZmZWN0cygpOiBFZmZlY3RDaGFpbiB7IHJldHVybiB0aGlzLm1FZmZlY3RzOyB9XG4gICAgZ2V0IHByZUdhaW4oKTogR2Fpbk5vZGUgeyByZXR1cm4gdGhpcy5tRWZmZWN0cy5wcmVHYWluOyB9XG4gICAgZ2V0IHBvc3RHYWluKCk6IEdhaW5Ob2RlIHsgcmV0dXJuIHRoaXMubVBvc3RHYWluOyB9XG4gICAgZ2V0IHBhbm5lcigpOiBTdGVyZW9QYW5uZXJOb2RlIHsgcmV0dXJuIHRoaXMubVBhbm5lcjsgfVxuICAgIGdldCBzZW5kcygpOiBTZW5kTWdyIHsgcmV0dXJuIHRoaXMubVNlbmRzOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBBdWRpb0NvbnRleHQsIHRhcmdldD86IEF1ZGlvTm9kZSkge1xuICAgICAgICB0aGlzLm1QYW5uZXIgPSBjb250ZXh0LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xuICAgICAgICB0aGlzLm1Qb3N0R2FpbiA9IGNvbnRleHQuY3JlYXRlR2FpbigpO1xuXG4gICAgICAgIHRoaXMubVBhbm5lci5jb25uZWN0KHRoaXMubVBvc3RHYWluKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uY29ubmVjdCh0YXJnZXQgfHwgY29udGV4dC5kZXN0aW5hdGlvbik7XG5cbiAgICAgICAgdGhpcy5tRWZmZWN0cyA9IG5ldyBFZmZlY3RDaGFpbihjb250ZXh0LCB0aGlzLm1QYW5uZXIpO1xuICAgICAgICB0aGlzLm1TZW5kcyA9IG5ldyBTZW5kTWdyKGNvbnRleHQpO1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5jb25uZWN0KHRoaXMubVNlbmRzLmlucHV0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyB0aGUgQnVzIHRvIGFub3RoZXIgdGFyZ2V0IEF1ZGlvTm9kZVxuICAgICAqIEBwYXJhbSBub2RlIG5vZGUgdG8gY29ubmVjdFxuICAgICAqL1xuICAgIGNvbm5lY3Qobm9kZTogQXVkaW9Ob2RlKSB7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uY29ubmVjdCh0aGlzLm1TZW5kcy5pbnB1dCk7XG4gICAgICAgIHRoaXMubVBvc3RHYWluLmNvbm5lY3Qobm9kZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIEJ1cyBmcm9tIGl0cyB0YXJnZXQgQXVkaW9Ob2RlXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1Qb3N0R2Fpbi5jb25uZWN0KHRoaXMubVNlbmRzLmlucHV0KTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIHRvIGRpc2Nvbm5lY3QgYW5kIHJlbW92ZSBhbGwgcmVmZXJlbmNlcyBvZiBpbm5lciBlZmZlY3RzXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5tUGFubmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tUG9zdEdhaW4uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1FZmZlY3RzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tU2VuZHMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHRoaXMubVBhbm5lciA9IG51bGw7XG4gICAgICAgIHRoaXMubVBvc3RHYWluID0gbnVsbDtcbiAgICAgICAgdGhpcy5tRWZmZWN0cyA9IG51bGw7XG4gICAgICAgIHRoaXMubVNlbmRzID0gbnVsbDtcbiAgICB9XG59XG4iLCIvLyBUaGlzIGZpbGUgY29udGFpbnMgdGhlIGNsYXNzIEJ1c01nciwgd2hpY2ggbWFuYWdlcyBhIHNldCBvZiBidXNzZXMuIEJ5IGRlZmF1bHQgYSBtYXN0ZXIgYnVzXG4vLyBpcyBjcmVhdGVkLCB3aGljaCBieSBkZWZhdWx0IGlzIGF0dGFjaGVkIHRvIHRoZSBBdWRpb0NvbnRleHQjZGVzdGluYXRpb24sIHVubGVzcyBvdGhlcndpc2Vcbi8vIHNwZWNpZmllZC4gQWxsIGJ1c3NlcyBjcmVhdGVkIGJ5IHRoaXMgbWFuYWdlciBhcmUgYXR0YWNoZWQgdG8gdGhlIG1hc3RlciBidXMgYnkgZGVmYXVsdC5cbi8vIENyZWF0ZWQgYnVzc2VzIGFyZSBzdG9yZWQgaW4gdGhlIG1hbmFnZXIgYnkga2V5LCBhbmQgY2FuIGJlIHJldHJpZXZlZCB2aWEgQnVzTWdyI2dldFxuaW1wb3J0IHsgQnVzIH0gZnJvbSBcIi4vQnVzXCI7XG5pbXBvcnQgeyBJRGlzcG9zYWJsZSB9IGZyb20gXCIuL0ludGVyZmFjZXNcIjtcblxuZXhwb3J0IGNsYXNzIEJ1c01nciBpbXBsZW1lbnRzIElEaXNwb3NhYmxlIHtcbiAgICBwcml2YXRlIG1NYXN0ZXJCdXM6IEJ1cztcbiAgICBwcml2YXRlIG1CdXNzZXM6IE1hcDxzdHJpbmcsIEJ1cz47XG4gICAgcHJpdmF0ZSByZWFkb25seSBtQ29udGV4dDogQXVkaW9Db250ZXh0O1xuXG4gICAgZ2V0IGNvbnRleHQoKSB7IHJldHVybiB0aGlzLm1Db250ZXh0OyB9XG4gICAgZ2V0IG1hc3RlcigpIHsgcmV0dXJuIHRoaXMubU1hc3RlckJ1czsgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSBhdWRpbyBjb250ZXh0XG4gICAgICogQHBhcmFtIHRhcmdldCAtIG1hc3RlciBidXMgd2lsbCBjb25uZWN0IHRvIHRoaXMgdGFyZ2V0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQXVkaW9Db250ZXh0LCB0YXJnZXQ/OiBBdWRpb05vZGUpIHtcbiAgICAgICAgdGhpcy5tQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubU1hc3RlckJ1cyA9IG5ldyBCdXMoY29udGV4dCwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5tQnVzc2VzID0gbmV3IE1hcDtcblxuICAgICAgICB0aGlzLm1CdXNzZXMuc2V0KFwibWFzdGVyXCIsIHRoaXMubU1hc3RlckJ1cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJ1cywgYW5kIHN0b3JlcyBpdCBpbiB0aGUgQXVkaW9FbmdpbmUuIEl0IGNhbiBiZSByZXRyaWV2ZWQgdmlhIEF1ZGlvRW5naW5lI2dldEJ1c1xuICAgICAqIEBwYXJhbSBrZXkga2V5IHRvIHNldCBhbmQgcmV0cmlldmUgdGhpcyBuZXcgYnVzLiBJdCBtdXN0IGJlIHVuaXF1ZSwgb3RoZXJ3aXNlIG5vIGJ1cyB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHRhcmdldCBUYXJnZXQgbm9kZSB0byBjb25uZWN0IHRoZSBidXMgdG8uIExlZnQgdW5zcGVjaWZpZWQsIHdpbGwgc2V0IGl0IHRvIHRoZVxuICAgICAqIG1hc3RlciBidXMuXG4gICAgICogQHJldHVybnMgY3JlYXRlZCBhdWRpbyBidXMsIG9yIG51bGwgaWYgdGhlIGtleSB3YXMgbm90IHVuaXF1ZS5cbiAgICAgKi9cbiAgICBjcmVhdGUoa2V5OiBzdHJpbmcsIHRhcmdldD86IEF1ZGlvTm9kZSk6IEJ1cyB8IG51bGwge1xuICAgICAgICBpZiAodGhpcy5tQnVzc2VzLmhhcyhrZXkpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgY29uc3QgbmV3QnVzID0gbmV3IEJ1cyh0aGlzLmNvbnRleHQsIHRhcmdldCB8fCB0aGlzLm1NYXN0ZXJCdXMuaW5wdXQpO1xuICAgICAgICB0aGlzLm1CdXNzZXMuc2V0KGtleSwgbmV3QnVzKTtcblxuICAgICAgICByZXR1cm4gbmV3QnVzO1xuICAgIH1cblxuICAgIGdldChrZXk6IHN0cmluZyk6IEJ1cyB8IG51bGwge1xuICAgICAgICBjb25zdCBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGtleSk7XG4gICAgICAgIHJldHVybiBidXMgPyBidXMgOiBudWxsO1xuICAgIH1cblxuICAgIHJlbW92ZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChidXMpXG4gICAgICAgICAgICBidXNcbiAgICAgICAgcmV0dXJuIHRoaXMubUJ1c3Nlcy5kZWxldGUoa2V5KTtcbiAgICB9XG5cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLm1CdXNzZXMuZm9yRWFjaChidXMgPT4gYnVzLmRpc3Bvc2UoKSk7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMubUJ1c3NlcyA9IG51bGw7XG4gICAgICAgIHRoaXMubU1hc3RlckJ1cyA9IG51bGw7XG4gICAgfVxufVxuIiwiLy8gVGhpcyBmaWxlIGNvbnRhaW5zIGEgZnVuY3Rpb24gYGludGVyYWN0aW9uV29ya2Fyb3VuZGAsIHdoaWNoIGF1dG9tYXRpY2FsbHkgcmVzdW1lcyBhbiBBdWRpb0NvbnRleHRcbi8vIHdoZW4gdGhlIHVzZXIgZmlyc3QgaW50ZXJhY3RzIHdpdGggdGhlIHBhZ2UgKFwicG9pbnRlcmRvd25cIiBldmVudCkuIFRoaXMgaXMgbmVjZXNzYXJ5IG9uIG1hbnkgbW9kZXJuXG4vLyBicm93c2Vycywgd2hpY2ggcmVxdWlyZXMgdGhpcyBnZXN0dXJlIGZyb20gdGhlIHVzZXIgdG8gcHJvdGVjdCB0aGVtIGZyb20gdW53YW50ZWQgYW5ub3lpbmcgYXVkaW8uXG4vLyBJdCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBieSB0aGUgQXVkaW9FbmdpbmUsIGJ1dCBpcyBhdmFpbGFibGUgZm9yIHVzZSB3aXRob3V0IGFueSBkZXBlbmRlbmN5IG9uIGl0LlxuLy8gQXV0aG9yOiBBYXJvbiBJc2hpYmFzaGksIGEuaXNoaWJhc2hpLm11c2ljQGdtYWlsLmNvbVxuXG5jb25zdCBJbnRlcmFjdGlvbldvcmthcm91bmRFdmVudFR5cGUgPSBcInBvaW50ZXJkb3duXCI7XG5cbi8vIE9uIG1vc3QgbWFqb3IgYnJvd3NlcnMsIGF1ZGlvIGNvbnRleHRzIG11c3QgYmUgcmVzdW1lZCBvciBjcmVhdGVkIG9uY2UgdGhlIHVzZXIgaW50ZXJhY3RzIHdpdGggdGhlIHBhZ2UuXG4vLyBTZXRzIHByb3BlciBsaXN0ZW5lcnMgdG8gcmVzdW1lIHRoZSBjb250ZXh0IGlmIHRoZSBjb250ZXh0IGhhcyBiZWVuIHN1c3BlbmRlZCBkdWUgdG8gdGhpcyBjYXZlYXQuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJhY3Rpb25Xb3JrYXJvdW5kKGNvbnRleHQ6IEF1ZGlvQ29udGV4dCkge1xuICAgIGlmIChjb250ZXh0LnN0YXRlID09PSBcInJ1bm5pbmdcIikgcmV0dXJuOyAvLyBubyBuZWVkIHRvIGV4ZWN1dGUgaWYgcnVubmluZyBwcm9wZXJseVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoSW50ZXJhY3Rpb25Xb3JrYXJvdW5kRXZlbnRUeXBlLCBjYWxsYmFjayk7XG5cbiAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgY29udGV4dC5yZXN1bWUoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdW1lZCBBdWRpb0NvbnRleHQuXCIpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEludGVyYWN0aW9uV29ya2Fyb3VuZEV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIHJlc3VtZSBBdWRpb0NvbnRleHQ6XCIsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRWZmZWN0Q2hhaW4gfSBmcm9tIFwiLi9FZmZlY3RDaGFpblwiO1xuaW1wb3J0IHsgSURpc3Bvc2FibGUgfSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTb3VuZDxUIGV4dGVuZHMgQXVkaW9Ob2RlPiBpbXBsZW1lbnRzIElEaXNwb3NhYmxlIHtcbiAgICBwcml2YXRlIG1FZmZlY3RzOiBFZmZlY3RDaGFpbjtcbiAgICBwcml2YXRlIG1Tb3VuZDogVCB8IG51bGw7XG5cbiAgICAvLyBFZmZlY3QgQ2hhaW5cbiAgICBnZXQgZWZmZWN0cygpIHsgcmV0dXJuIHRoaXMubUVmZmVjdHM7IH1cblxuICAgIC8vIEF1ZGlvQ29udGV4dFxuICAgIGdldCBjb250ZXh0KCkgeyByZXR1cm4gdGhpcy5tRWZmZWN0cy5jb250ZXh0OyB9XG5cbiAgICAvLyBUaGUgaW5uZXIgc291bmQgbm9kZVxuICAgIGdldCBzb3VyY2UoKTogVCB7IHJldHVybiB0aGlzLm1Tb3VuZDsgfVxuXG4gICAgLy8gU2hvcnRjdXQgdG8gcG9zdC1nYWluIHBhcmFtZXRlclxuICAgIGdldCBnYWluKCk6IEF1ZGlvUGFyYW0geyByZXR1cm4gdGhpcy5tRWZmZWN0cy5nYWluLmdhaW47IH1cblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihjb250ZXh0OiBBdWRpb0NvbnRleHQsIHNvdW5kTm9kZTogVCB8IG51bGwsIHRhcmdldD86IEF1ZGlvTm9kZSkge1xuICAgICAgICB0aGlzLm1FZmZlY3RzID0gbmV3IEVmZmVjdENoYWluKGNvbnRleHQsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubVNvdW5kID0gc291bmROb2RlO1xuXG4gICAgICAgIGlmICh0aGlzLm1Tb3VuZCkgLy8gc29tZSBTb3VuZHMgZG8gbm90IGhhdmUgYW4gaW5uZXIgc291cmNlIG9iamVjdFxuICAgICAgICAgICAgdGhpcy5tU291bmQuY29ubmVjdCh0aGlzLm1FZmZlY3RzLmlucHV0KTtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBwbGF5KC4uLnBhcmFtczogYW55W10pOiBUIHwgUHJvbWlzZTxUPjtcbiAgICBhYnN0cmFjdCBsb2FkKHVybDogc3RyaW5nKTogYm9vbGVhbiB8IFByb21pc2U8Ym9vbGVhbj47XG4gICAgYWJzdHJhY3QgdW5sb2FkKCk6IHZvaWQ7XG5cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLm1Tb3VuZD8uZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm1Tb3VuZCA9IG51bGw7XG4gICAgICAgIHRoaXMubUVmZmVjdHMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm1FZmZlY3RzID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25uZWN0KHRhcmdldDogQXVkaW9Ob2RlIHwgQXVkaW9QYXJhbSkge1xuICAgICAgICB0aGlzLm1FZmZlY3RzLmNvbm5lY3QodGFyZ2V0KTtcbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIEVudmVsb3BlT3B0aW9ucyB7XG4gICAgYXR0YWNrVGltZTogbnVtYmVyO1xuICAgIGF0dGFja0xldmVsOiBudW1iZXI7XG4gICAgZGVjYXlUaW1lOiBudW1iZXI7XG4gICAgc3VzdGFpbkxldmVsOiBudW1iZXI7XG4gICAgaG9sZFRpbWU6IG51bWJlcjtcbiAgICByZWxlYXNlVGltZTogbnVtYmVyO1xufVxuXG4vLyBBRFNIUiBFbnZlbG9wZVxuZXhwb3J0IGNsYXNzIEVudmVsb3BlIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1UYXJnZXRzOiBBdWRpb1BhcmFtW107XG4gICAgcHJpdmF0ZSByZWFkb25seSBtQ29udGV4dDogQmFzZUF1ZGlvQ29udGV4dDtcblxuICAgIHByaXZhdGUgbUF0dGFja1RpbWU6IG51bWJlcjtcbiAgICBwcml2YXRlIG1BdHRhY2tMZXZlbDogbnVtYmVyO1xuICAgIHByaXZhdGUgbURlY2F5VGltZTogbnVtYmVyO1xuICAgIHByaXZhdGUgbVN1c3RhaW5MZXZlbDogbnVtYmVyO1xuICAgIHByaXZhdGUgbUhvbGRUaW1lOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBtUmVsZWFzZVRpbWU6IG51bWJlcjtcblxuICAgIGdldCBhdHRhY2tUaW1lKCkgeyByZXR1cm4gdGhpcy5tQXR0YWNrVGltZTsgfVxuICAgIGdldCBhdHRhY2tMZXZlbCgpIHsgcmV0dXJuIHRoaXMubUF0dGFja0xldmVsOyB9XG4gICAgZ2V0IGRlY2F5VGltZSgpIHsgcmV0dXJuIHRoaXMubURlY2F5VGltZTsgfVxuICAgIGdldCBzdXN0YWluTGV2ZWwoKSB7IHJldHVybiB0aGlzLm1TdXN0YWluTGV2ZWw7IH1cbiAgICBnZXQgaG9sZFRpbWUoKSB7IHJldHVybiB0aGlzLm1Ib2xkVGltZTsgfVxuICAgIGdldCByZWxlYXNlVGltZSgpIHsgcmV0dXJuIHRoaXMubVJlbGVhc2VUaW1lOyB9XG5cbiAgICBzZXQgYXR0YWNrVGltZSh2YWx1ZTogbnVtYmVyKSB7IHRoaXMubUF0dGFja1RpbWUgPSBNYXRoLm1heCgwLCB2YWx1ZSk7IH1cbiAgICBzZXQgYXR0YWNrTGV2ZWwodmFsdWU6IG51bWJlcikgeyB0aGlzLm1BdHRhY2tMZXZlbCA9IE1hdGgubWF4KDAsIHZhbHVlKTsgfVxuICAgIHNldCBkZWNheVRpbWUodmFsdWU6IG51bWJlcikgeyB0aGlzLm1EZWNheVRpbWUgPSBNYXRoLm1heCgwLCB2YWx1ZSk7IH1cbiAgICBzZXQgc3VzdGFpbkxldmVsKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5tU3VzdGFpbkxldmVsID0gTWF0aC5tYXgoMCwgdmFsdWUpOyB9XG4gICAgc2V0IGhvbGRUaW1lKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5tSG9sZFRpbWUgPSBNYXRoLm1heCgwLCB2YWx1ZSk7IH1cbiAgICBzZXQgcmVsZWFzZVRpbWUodmFsdWU6IG51bWJlcikgeyB0aGlzLm1SZWxlYXNlVGltZSA9IE1hdGgubWF4KDAsIHZhbHVlKTsgfVxuXG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBCYXNlQXVkaW9Db250ZXh0LCBvcHRzPzogUGFydGlhbDxFbnZlbG9wZU9wdGlvbnM+KSB7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLm1UYXJnZXRzID0gW107XG5cbiAgICAgICAgaWYgKG9wdHMpXG4gICAgICAgICAgICB0aGlzLnNldChvcHRzKTtcbiAgICAgICAgZWxzZSB7IC8vIGRlZmF1bHRzXG4gICAgICAgICAgICB0aGlzLm1BdHRhY2tUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMubUF0dGFja0xldmVsID0gMTtcbiAgICAgICAgICAgIHRoaXMubURlY2F5VGltZSA9IC41O1xuICAgICAgICAgICAgdGhpcy5tU3VzdGFpbkxldmVsID0gLjI1O1xuICAgICAgICAgICAgdGhpcy5tSG9sZFRpbWUgPSAuMjU7XG4gICAgICAgICAgICB0aGlzLm1SZWxlYXNlVGltZSA9IC41O1xuXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHBhcmFtZXRlciB0byB0aGUgZW52ZWxvcGUncyB0YXJnZXRzLlxuICAgICAqIEBwYXJhbSBwYXJhbVxuICAgICAqL1xuICAgIGFkZFRhcmdldChwYXJhbTogQXVkaW9QYXJhbSkge1xuICAgICAgICB0aGlzLm1UYXJnZXRzLnB1c2gocGFyYW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHBhcmFtZXRlciBmcm9tIHRoZSBlbnZlbG9wZSdzIHRhcmdldHNcbiAgICAgKiBAcGFyYW0gcGFyYW1cbiAgICAgKi9cbiAgICByZW1vdmVUYXJnZXQocGFyYW06IEF1ZGlvUGFyYW0pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1UYXJnZXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMubVRhcmdldHNbaV0sIHBhcmFtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubVRhcmdldHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBlbnZlbG9wZSB2aWEgYW4gRW52ZWxvcGVPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gb3B0c1xuICAgICAqL1xuICAgIHNldChvcHRzOiBQYXJ0aWFsPEVudmVsb3BlT3B0aW9ucz4pIHtcbiAgICAgICAgdGhpcy5tQXR0YWNrVGltZSA9IG9wdHMuYXR0YWNrVGltZSA/PyB0aGlzLm1BdHRhY2tUaW1lO1xuICAgICAgICB0aGlzLm1BdHRhY2tMZXZlbCA9IG9wdHMuYXR0YWNrTGV2ZWwgPz8gdGhpcy5tQXR0YWNrTGV2ZWw7XG4gICAgICAgIHRoaXMubURlY2F5VGltZSA9IG9wdHMuZGVjYXlUaW1lID8/IHRoaXMubURlY2F5VGltZTtcbiAgICAgICAgdGhpcy5tU3VzdGFpbkxldmVsID0gb3B0cy5zdXN0YWluTGV2ZWwgPz8gdGhpcy5tU3VzdGFpbkxldmVsO1xuICAgICAgICB0aGlzLm1Ib2xkVGltZSA9IG9wdHMuaG9sZFRpbWUgPz8gdGhpcy5tSG9sZFRpbWU7XG4gICAgICAgIHRoaXMubVJlbGVhc2VUaW1lID0gb3B0cy5yZWxlYXNlVGltZSA/PyB0aGlzLm1SZWxlYXNlVGltZSA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGVudmVsb3BlIG9uIGFsbCB0YXJnZXQgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gd2hlbiAtIFdoZW4gdG8gdHJpZ2dlci9hY3RpdmF0ZSB0aGUgZW52ZWxvcGUsIHJlbGF0aXZlIHRvIG5vdywgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBhY3RpdmF0ZSh3aGVuOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIC8vIEdyYWIgdGltaW5nc1xuICAgICAgICAvLyAuMDIgZXh0cmEgc2Vjb25kcyB0byBnaXZlIHRpbWUgZm9yIGdhaW4gdG8gc25hcCBiYWNrIHRvIHplcm8gd2l0aG91dCBwb3BwaW5nXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5tQ29udGV4dC5jdXJyZW50VGltZSArIHdoZW4gKyAuMDI7XG4gICAgICAgIGNvbnN0IHN0YXJ0RGVjYXkgPSBjdXJyZW50VGltZSArIHRoaXMubUF0dGFja1RpbWU7XG4gICAgICAgIGNvbnN0IHN0YXJ0UmVsZWFzZSA9ICBjdXJyZW50VGltZSArIHRoaXMubUF0dGFja1RpbWUgKyB0aGlzLm1EZWNheVRpbWUgKyB0aGlzLm1Ib2xkVGltZTtcblxuICAgICAgICAvLyBTZXQgZW52ZWxvcGUgZm9yIGVhY2ggdGFyZ2V0IHBhcmFtXG4gICAgICAgIHRoaXMubVRhcmdldHMuZm9yRWFjaChwYXJhbSA9PiB7XG4gICAgICAgICAgICAvLyBpbml0IHZhbHVlXG4gICAgICAgICAgICBwYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgcGFyYW0ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCwgY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICAvLyBhdHRhY2tcbiAgICAgICAgICAgIHBhcmFtLnNldFRhcmdldEF0VGltZSh0aGlzLm1BdHRhY2tMZXZlbCwgY3VycmVudFRpbWUsIHRoaXMubUF0dGFja1RpbWUgKiAuMSk7XG4gICAgICAgICAgICAvLyBkZWNheVxuICAgICAgICAgICAgcGFyYW0uc2V0VGFyZ2V0QXRUaW1lKHRoaXMubVN1c3RhaW5MZXZlbCwgc3RhcnREZWNheSwgdGhpcy5tRGVjYXlUaW1lICogLjEpO1xuICAgICAgICAgICAgLy8gcmVsZWFzZVxuICAgICAgICAgICAgcGFyYW0uc2V0VGFyZ2V0QXRUaW1lKDAsIHN0YXJ0UmVsZWFzZSwgdGhpcy5tUmVsZWFzZVRpbWUgKiAuMSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbCBlZmZlY3RzIG9mIGEgdHJpZ2dlcmVkIGVudmVsb3BlIChzaWRlIGVmZmVjdDogd2lsbCBhbHNvIGNhbmNlbCBhbnkgb3RoZXIgc2NoZWR1bGVkXG4gICAgICogY2hhbmdlcyB0byB0aGUgdGFyZ2V0IHBhcmFtZXRlcnMpLlxuICAgICAqIEBwYXJhbSB3aGVuIC0gVGltZSBhZnRlciB3aGljaCBhbGwgZXZlbnRzIHdpbGwgYmUgY2FuY2VsbGVkLCByZWxhdGl2ZSB0byBub3cgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBjYW5jZWwod2hlbjogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLm1UYXJnZXRzLmZvckVhY2gocGFyYW0gPT4ge1xuICAgICAgICAgICAgcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRoaXMubUNvbnRleHQuY3VycmVudFRpbWUgKyB3aGVuKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCB7U291bmR9IGZyb20gXCIuL1NvdW5kXCI7XG5pbXBvcnQge0VudmVsb3BlfSBmcm9tIFwiLi9FbnZlbG9wZVwiO1xuXG4vLyBUT0RPOiBDcmVhdGUgU3ludGhWb2ljZSBjbGFzcyB3aGljaCBjYW4gbWFrZSBtdWx0aXBsZSB2b2ljZXMgZWFzaWVyLlxuZXhwb3J0IGNsYXNzIE1vbm9TeW50aCBleHRlbmRzIFNvdW5kPE9zY2lsbGF0b3JOb2RlPiB7XG4gICAgZW52ZWxvcGU6IEVudmVsb3BlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQXVkaW9Db250ZXh0LCB0YXJnZXQ/OiBBdWRpb05vZGUsIG9wdHM/OiBPc2NpbGxhdG9yT3B0aW9ucykge1xuICAgICAgICBjb25zdCBub2RlID0gb3B0cyA/IG5ldyBPc2NpbGxhdG9yTm9kZShjb250ZXh0LCBvcHRzKSA6XG4gICAgICAgICAgICBuZXcgT3NjaWxsYXRvck5vZGUoY29udGV4dCk7XG4gICAgICAgIHN1cGVyKGNvbnRleHQsIG5vZGUsIHRhcmdldCk7XG5cbiAgICAgICAgdGhpcy5lbnZlbG9wZSA9IG5ldyBFbnZlbG9wZShjb250ZXh0KTtcbiAgICAgICAgdGhpcy5lbnZlbG9wZS5hZGRUYXJnZXQodGhpcy5nYWluKTtcbiAgICAgICAgdGhpcy5nYWluLnZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5zb3VyY2Uuc3RhcnQoY29udGV4dC5jdXJyZW50VGltZSk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiB0aGlzLnNvdXJjZS50eXBlOyB9XG4gICAgc2V0IHR5cGUodHlwZTogXCJzaW5lXCIgfCBcInNxdWFyZVwiIHwgXCJzYXd0b290aFwiIHwgXCJ0cmlhbmdsZVwiIHwgXCJjdXN0b21cIikge1xuICAgICAgICB0aGlzLnNvdXJjZS50eXBlID0gdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgZnJlcXVlbmN5KCkgeyByZXR1cm4gdGhpcy5zb3VyY2UuZnJlcXVlbmN5OyB9XG5cblxuICAgIC8qKlxuICAgICAqIFN5bnRoIGRvZXMgbm90IG5lZWQgdG8gYmUgbG9hZGVkIVxuICAgICAqIEBwYXJhbSB1cmxcbiAgICAgKi9cbiAgICBvdmVycmlkZSBsb2FkKHVybDogc3RyaW5nKTogYm9vbGVhbiB8IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0aHJvdyBcIlN5bnRoI2xvYWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQhXCI7XG4gICAgfVxuXG4gICAgb3ZlcnJpZGUgcGxheSh3aGVuOiBudW1iZXIgPSAwKTogT3NjaWxsYXRvck5vZGUge1xuICAgICAgICB0aGlzLmVudmVsb3BlLmFjdGl2YXRlKHdoZW4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZTtcbiAgICB9XG5cbiAgICBvdmVycmlkZSB1bmxvYWQoKTogdm9pZCB7XG4gICAgICAgIHRocm93IFwiU3ludGgjdW5sb2FkIHNob3VsZCBub3QgYmUgY2FsbGVkIVwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTb3VuZCB9IGZyb20gXCIuL1NvdW5kXCI7XG5cbi8vIENsYXNzIG1lYW50IGZvciBsb25nZXIgc291bmRzIGxpa2UgbXVzaWMsIGFtYmllbmNlLCBldGMuXG4vLyBBdWRpb05vZGUgZ3JhcGg6IHNvdXJjZSAtPiBnYWluTm9kZVxuZXhwb3J0IGNsYXNzIE11c2ljIGV4dGVuZHMgU291bmQ8TWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBBdWRpb0NvbnRleHQsIHRhcmdldDogQXVkaW9Ob2RlLCB1cmw/OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gbmV3IE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZShjb250ZXh0LCB7XG4gICAgICAgICAgICBtZWRpYUVsZW1lbnQ6IHVybCA/IG5ldyBBdWRpbyh1cmwpIDogbmV3IEF1ZGlvKClcbiAgICAgICAgfSk7XG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHNvdXJjZSwgdGFyZ2V0KTtcbiAgICB9XG5cbiAgICBvdmVycmlkZSBsb2FkKHVybDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5zcmMgPSB1cmw7XG4gICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5sb2FkKCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgb3ZlcnJpZGUgdW5sb2FkKCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQuc3JjID0gXCJcIjtcbiAgICB9XG5cbiAgICBvdmVycmlkZSBhc3luYyBwbGF5KCk6IFByb21pc2U8TWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQucGxheSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLnNvdXJjZSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiBudWxsKTtcbiAgICB9XG5cbiAgICAvLyBQYXVzZXMgYXVkaW8gYW5kIHNldHMgY3VycmVudFRpbWUgdG8gMFxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgICAgICB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSAwO1xuICAgIH1cblxuICAgIHNldFBhdXNlKHBhdXNlOiBib29sZWFuKSB7XG4gICAgICAgIGlmIChwYXVzZSlcbiAgICAgICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQucGxheSgpO1xuICAgIH1cblxuICAgIGdldCBwYXVzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5tZWRpYUVsZW1lbnQucGF1c2VkO1xuICAgIH1cblxuICAgIG92ZXJyaWRlIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuc291cmNlLm1lZGlhRWxlbWVudC5zcmMgPSBcIlwiO1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuIiwiXG5pbnRlcmZhY2UgQ2FsbGJhY2s8QXJncyBleHRlbmRzIGFueVtdPiB7XG4gICAgY29udGV4dDogYW55O1xuICAgIGNhbGxiYWNrOiAoLi4uYXJnczogQXJncykgPT4gdm9pZDtcbn1cblxuXG4vKipcbiAqIENsYXNzIHRoYXQgc3RvcmVzIGFuZCBpbnZva2VzIGNhbGxiYWNrLiBTaW1pbGFyIHRvIHRoZSBzdWJqZWN0IGluIHRoZSBPYnNlcnZlciBwYXR0ZXJuLlxuICogQ2FuIHN0b3JlICd0aGlzJyBjb250ZXh0LCBpZiBuZWVkZWQsIGUuZy4gY2xhc3MgZnVuY3Rpb24gcGVyZm9ybWVkIG9uIGFuIGluc3RhbmNlLlxuICovXG5leHBvcnQgY2xhc3MgRGVsZWdhdGU8QXJncyBleHRlbmRzIGFueVtdPiB7XG4gICAgcHJpdmF0ZSBjYWxsYmFja3M6IENhbGxiYWNrPEFyZ3M+W107XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICB9XG4gICAgYWRkTGlzdGVuZXIoY2FsbGJhY2s6ICguLi5hcmdzOiBBcmdzKSA9PiB2b2lkLCBjb250ZXh0OiBhbnkgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goe2NvbnRleHQsIGNhbGxiYWNrfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaXN0ZW5lci4gTXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgY2FsbGVkIGZyb20gRGVsZWdhdGUuYWRkTGlzdGVuZXIuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIHNldFxuICAgICAqIEBwYXJhbSBjb250ZXh0ICd0aGlzJyBjb250ZXh0LiAoQXJyb3cgZnVuY3Rpb25zIGF1dG9tYXRpY2FsbHkgY2FwdHVyZSAndGhpcycsIGFuZCBkbyBub3RcbiAgICAgKiBuZWVkIHRoaXMgcGFyYW1ldGVyIHNldC4pXG4gICAgICovXG4gICAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2s6ICguLi5hcmdzOiBBcmdzKSA9PiB2b2lkLCBjb250ZXh0OiBhbnkgPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaXModGhpcy5jYWxsYmFja3NbaV0uY2FsbGJhY2ssIGNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIChjb250ZXh0ID8gT2JqZWN0LmlzKHRoaXMuY2FsbGJhY2tzW2ldLmNvbnRleHQsIGNvbnRleHQpIDogdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaW52b2tlKC4uLmFyZ3M6IEFyZ3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzW2ldLmNvbnRleHQpXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbaV0uY2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrc1tpXS5jb250ZXh0LCAuLi5hcmdzKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1tpXS5jYWxsYmFjayguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgfVxufVxuIiwiXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEF1ZGlvQnVmZmVyKGNvbnRleHQ6IEJhc2VBdWRpb0NvbnRleHQsIHVybDogc3RyaW5nKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICBjb25zdCBidWYgPSBhd2FpdCByZXMuYXJyYXlCdWZmZXIoKTtcbiAgICByZXR1cm4gY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYnVmKTtcbn1cbiIsImltcG9ydCB7IE1vZGVsIH0gZnJvbSBcIi4vbGliL1VJL01vZGVsXCI7XG5pbXBvcnQgeyBBdWRpb0VuZ2luZSB9IGZyb20gXCJXZWJBQVwiO1xuXG5leHBvcnQgZW51bSBHYW1lU3RhdGUge1xuICAgIC8vIFBsYXkgYnV0dG9uIHdpdGggZ3JheWVkLW91dCBzY3JlZW4uXG4gICAgU3RhbmRieSxcbiAgICAvLyBDb3VudCBkb3duIHdoZW4gcGxheWVyIGRlY2lkZXMgdG8gcGxheSBnYW1lXG4gICAgQ291bnREb3duLFxuICAgIC8vIENvbXB1dGVyIHBsYXlzIGJhY2sgdG9uZXNcbiAgICBQbGF5VG9uZXMsXG4gICAgLy8gV2FpdCBmb3IgcGxheWVyIHRvIHByZXNzIGZpcnN0IHJlc3BvbnNlXG4gICAgQXdhaXRSZXNwb25zZSxcbiAgICAvLyBQbGF5ZXIgbXVzdCByZXNwb25kIGluIHRpbWUsIGluIG9yZGVyXG4gICAgUmVzcG9uc2UsXG4gICAgLy8gUGxheXMgYSByZXdhcmQgdG9uZSBpZiBwbGF5ZXIgcmVhY2hlcyBhIHNpZ25pZmljYW50IHNjb3JlXG4gICAgUmV3YXJkVG9uZSxcbiAgICAvLyBBZnRlciBwbGF5ZXIgbG9zZXMsIHNob3dzIHNjb3JlIGFuZCBwbGF5IGFnYWluIGJ1dHRvblxuICAgIFJlc3VsdCxcbiAgICAvLyBOdW1iZXIgb2Ygc3RhdGVzIGluIEdhbWVTdGF0ZS4gTGVhdmUgbGFzdC5cbiAgICBNQVhfQ09VTlRcbn1cblxuZW51bSBBY3Rpb24ge1xuICAgIFN0YXJ0LFxuICAgIFByb2dyZXNzLFxuICAgIExvc2Vcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFNpbW9uU3RhdGUge1xuICAgIHR1cm5OdW1iZXI6IG51bWJlcjtcbiAgICBwcm9ncmVzczogbnVtYmVyO1xuICAgIC8vIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHBsYXllciBidXR0b24gcHJlc3Nlc1xuICAgIHNwZWVkOiBudW1iZXI7XG4gICAgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XG59XG5cblxuY29uc3Qgc3RhdGVEZWZhdWx0OiBTaW1vblN0YXRlID0ge1xuICAgIHR1cm5OdW1iZXI6IDAsXG4gICAgcHJvZ3Jlc3M6IDAsXG4gICAgc3BlZWQ6IDgwMCxcbiAgICBnYW1lU3RhdGU6IEdhbWVTdGF0ZS5TdGFuZGJ5LFxufTtcblxuXG5leHBvcnQgaW50ZXJmYWNlIFNpbW9uUHJvcHMge1xuICAgIGJ1dHRvbnM6IEhUTUxFbGVtZW50O1xuICAgIHZvbHVtZTogSFRNTElucHV0RWxlbWVudDtcbiAgICBvcmRlcjogVWludDhBcnJheTtcbiAgICBhdWRpbzogQXVkaW9FbmdpbmU7IC8vIGF1ZGlvIGVuZ2luZVxuICAgIHBsYXlBZ2FpbjogSFRNTEVsZW1lbnQ7XG4gICAgcm91bmREaXNwbGF5OiBIVE1MRWxlbWVudDtcbn1cblxuXG5leHBvcnQgY2xhc3MgU2ltb25Nb2RlbCBleHRlbmRzIE1vZGVsPFNpbW9uUHJvcHMsIFNpbW9uU3RhdGUsIEFjdGlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBwcm9wczogU2ltb25Qcm9wcyA9IHtcbiAgICAgICAgICAgIGJ1dHRvbnM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uc1wiKSxcbiAgICAgICAgICAgIHBsYXlBZ2FpbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5LWFnYWluXCIpLFxuICAgICAgICAgICAgb3JkZXI6IG5ldyBVaW50OEFycmF5KDMwKSxcbiAgICAgICAgICAgIHZvbHVtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN2b2x1bWVcIiksXG4gICAgICAgICAgICBhdWRpbzogbmV3IEF1ZGlvRW5naW5lLFxuICAgICAgICAgICAgcm91bmREaXNwbGF5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvdW5kLWRpc3BsYXlcIiksXG4gICAgICAgIH07XG5cbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlRGVmYXVsdCk7XG4gICAgfVxuXG4gICAgc3RhcnRHYW1lKCkge1xuICAgICAgICB0aGlzLnJlZHVjZXIoQWN0aW9uLlN0YXJ0LCBudWxsKTtcbiAgICB9XG5cbiAgICBwcm9ncmVzcygpIHtcbiAgICAgICAgdGhpcy5yZWR1Y2VyKEFjdGlvbi5Qcm9ncmVzcywgbnVsbCk7XG4gICAgfVxuXG4gICAgbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZWR1Y2VyKEFjdGlvbi5Mb3NlLCBudWxsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbkJ1dHRvbk9yZGVyKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvcHMub3JkZXIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub3JkZXJbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZHVjZXJJbXBsKHR5cGU6IEFjdGlvbiwgZGF0YTogYW55LCBsYXN0U3RhdGU6IFNpbW9uU3RhdGUpOiBTaW1vblN0YXRlIHtcbiAgICAgICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQWN0aW9uLlN0YXJ0OlxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuQnV0dG9uT3JkZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGVEZWZhdWx0LCB7IGdhbWVTdGF0ZTogR2FtZVN0YXRlLlBsYXlUb25lcyB9KTtcblxuICAgICAgICAgICAgY2FzZSBBY3Rpb24uUHJvZ3Jlc3M6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsOiBQYXJ0aWFsPFNpbW9uU3RhdGU+ID0ge307XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGxhc3RTdGF0ZS5wcm9ncmVzcyArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA+IGxhc3RTdGF0ZS50dXJuTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWwucHJvZ3Jlc3MgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U3RhdGUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUGxheVRvbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZS5Bd2FpdFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RTdGF0ZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5SZXNwb25zZSB8fCBsYXN0U3RhdGUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuQXdhaXRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbC50dXJuTnVtYmVyID0gbGFzdFN0YXRlLnR1cm5OdW1iZXIgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbC5nYW1lU3RhdGUgPSBHYW1lU3RhdGUuUGxheVRvbmVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gcGxheWVyIG9yIGNvbXB1dGVyIGhhcyBub3QgZmluaXNoZWQgc2VxdWVuY2UgeWV0XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U3RhdGUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuQXdhaXRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbC5nYW1lU3RhdGUgPSBHYW1lU3RhdGUuUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsLnByb2dyZXNzID0gc3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGxhc3RTdGF0ZSwgcGFydGlhbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgQWN0aW9uLkxvc2U6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgbGFzdFN0YXRlLCB7IGdhbWVTdGF0ZTogR2FtZVN0YXRlLlJlc3VsdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RTdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsIi8vIENsYXNzIGludGVuZGVkIGZvciBzaG9ydCBvbmUtc2hvdCBzb3VuZCBlZmZlY3RzLlxuLy8gSWYgeW91IG5lZWQgbG9uZ2VyIGF1ZGlvIHdpdGggbW9yZSBjb250cm9scyBmb3IgbXVzaWMgb3IgYW1iaWVuY2UsIHBsZWFzZSB1c2UgdGhlIGBNdXNpY2AgY2xhc3MuXG5pbXBvcnQgeyBEZWxlZ2F0ZSB9IGZyb20gXCIuL0RlbGVnYXRlXCI7XG5pbXBvcnQgeyBsb2FkQXVkaW9CdWZmZXIgfSBmcm9tIFwiLi9Mb2FkaW5nXCI7XG5pbXBvcnQgeyBTb3VuZCB9IGZyb20gXCIuL1NvdW5kXCI7XG5cbmV4cG9ydCBjbGFzcyBTb3VuZEVmZmVjdCBleHRlbmRzIFNvdW5kPEF1ZGlvQnVmZmVyU291cmNlTm9kZT4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdHM6IEF1ZGlvQnVmZmVyU291cmNlT3B0aW9ucztcblxuICAgIG9uZW5kZWQ6IERlbGVnYXRlPFtBdWRpb0J1ZmZlclNvdXJjZU5vZGUsIFNvdW5kRWZmZWN0XT47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBBdWRpb0NvbnRleHQsIHRhcmdldD86IEF1ZGlvTm9kZSwgdXJsPzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKGNvbnRleHQsIG51bGwsIHRhcmdldCk7XG4gICAgICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBidWZmZXI6IG51bGwsXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgIHBsYXliYWNrUmF0ZTogMSxcbiAgICAgICAgICAgIGRldHVuZTogMCxcbiAgICAgICAgICAgIGxvb3BTdGFydDogMCxcbiAgICAgICAgICAgIGxvb3BFbmQ6IDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9uZW5kZWQgPSBuZXcgRGVsZWdhdGU8W0F1ZGlvQnVmZmVyU291cmNlTm9kZSwgU291bmRFZmZlY3RdPjtcbiAgICAgICAgdGhpcy5vbmVuZGVkSGFuZGxlciA9IHRoaXMub25lbmRlZEhhbmRsZXIuYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAodXJsKVxuICAgICAgICAgICAgdGhpcy5sb2FkKHVybCk7XG4gICAgfVxuXG4gICAgZ2V0IGlzTG9hZGVkKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cy5idWZmZXIgIT09IG51bGw7IH1cbiAgICBzZXQgbG9vcGluZyh2YWx1ZTogYm9vbGVhbikgeyB0aGlzLmRlZmF1bHRzLmxvb3AgPSB2YWx1ZTsgfVxuICAgIGdldCBsb29waW5nKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5kZWZhdWx0cy5sb29wOyB9XG5cbiAgICBzZXQgbG9vcFN0YXJ0KHZhbHVlOiBudW1iZXIpIHsgdGhpcy5kZWZhdWx0cy5sb29wU3RhcnQgPSB2YWx1ZTsgfVxuICAgIHNldCBsb29wRW5kKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5kZWZhdWx0cy5sb29wRW5kID0gdmFsdWU7IH1cbiAgICBnZXQgbG9vcFN0YXJ0KCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cy5sb29wU3RhcnQ7IH1cbiAgICBnZXQgbG9vcEVuZCgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMubG9vcEVuZDsgfVxuICAgIHNldCBwbGF5YmFja1JhdGUodmFsdWU6IG51bWJlcikgeyB0aGlzLmRlZmF1bHRzLnBsYXliYWNrUmF0ZSA9IHZhbHVlOyB9XG4gICAgZ2V0IHBsYXliYWNrUmF0ZSgpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMucGxheWJhY2tSYXRlOyB9XG4gICAgc2V0IGRldHVuZSh2YWx1ZTogbnVtYmVyKSB7IHRoaXMuZGVmYXVsdHMuZGV0dW5lID0gdmFsdWU7IH1cbiAgICBnZXQgZGV0dW5lKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cy5kZXR1bmU7IH1cblxuXG4gICAgb3ZlcnJpZGUgYXN5bmMgbG9hZCh1cmw6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbG9hZEF1ZGlvQnVmZmVyKHRoaXMuY29udGV4dCwgdXJsKVxuICAgICAgICAgICAgLnRoZW4oYUJ1ZiA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0cy5idWZmZXIgPSBhQnVmO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uZW5kZWRIYW5kbGVyKGV2dDogRXZlbnQpIHtcbiAgICAgICAgdGhpcy5vbmVuZGVkLmludm9rZShldnQudGFyZ2V0IGFzIEF1ZGlvQnVmZmVyU291cmNlTm9kZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb3ZlcnJpZGUgdW5sb2FkKCkgeyB0aGlzLmRlZmF1bHRzLmJ1ZmZlciA9IG51bGw7IH1cblxuICAgIC8qKlxuICAgICAqIEZpcmUgYW5kIGZvcmdldC4gUGxlYXNlIGRvIG5vdCBjYWxsIHN0YXJ0IG9uIHRoZSByZXR1cm5lZCBBdWRpb0J1ZmZlclNvdXJjZU5vZGUuXG4gICAgICogQHBhcmFtIHdoZW4gd2hlbiB0byBzdGFydCBwbGF5aW5nLCBpbiBzZWNvbmRzLCByZWxhdGl2ZSB0byBub3dcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IHdoZXJlIGluIHRoZSBhdWRpbyBmaWxlIHRvIHN0YXJ0IHBsYXlpbmcsIGluIHNlY29uZHNcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24gaG93IGxvbmcgdG8gcGxheSB0aGUgZmlsZSwgaW4gc2Vjb25kcy4gSWYgbm90IHNwZWNpZmllZCwgcGxheXMgdGhlIHdob2xlIGZpbGUuXG4gICAgICovXG4gICAgb3ZlcnJpZGUgcGxheSh3aGVuOiBudW1iZXIgPSAwLCBvZmZzZXQ6IG51bWJlciA9IDAsIGR1cmF0aW9uPzogbnVtYmVyKTogQXVkaW9CdWZmZXJTb3VyY2VOb2RlIHtcbiAgICAgICAgY29uc3Qgc3JjTm9kZSA9ICh0aGlzLmRlZmF1bHRzKSA/XG4gICAgICAgICAgICBuZXcgQXVkaW9CdWZmZXJTb3VyY2VOb2RlKHRoaXMuY29udGV4dCwgdGhpcy5kZWZhdWx0cykgOlxuICAgICAgICAgICAgbmV3IEF1ZGlvQnVmZmVyU291cmNlTm9kZSh0aGlzLmNvbnRleHQpO1xuICAgICAgICBzcmNOb2RlLmNvbm5lY3QodGhpcy5lZmZlY3RzLmlucHV0KTtcbiAgICAgICAgc3JjTm9kZS5vbmVuZGVkID0gdGhpcy5vbmVuZGVkSGFuZGxlcjtcblxuICAgICAgICBpZiAoZHVyYXRpb24gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHNyY05vZGUuc3RhcnQodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lICsgd2hlbiwgb2Zmc2V0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3JjTm9kZS5zdGFydCh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUgKyB3aGVuLCBvZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHNyY05vZGU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQnVzTWdyIH0gZnJvbSBcIi4vQnVzTWdyXCI7XG5pbXBvcnQgeyBJRGlzcG9zYWJsZSB9IGZyb20gXCIuL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IGludGVyYWN0aW9uV29ya2Fyb3VuZCB9IGZyb20gXCIuL0ludGVyYWN0aW9uXCI7XG5pbXBvcnQgeyBNb25vU3ludGggfSBmcm9tIFwiLi9Nb25vU3ludGhcIjtcbmltcG9ydCB7IE11c2ljIH0gZnJvbSBcIi4vTXVzaWNcIjtcbmltcG9ydCB7IFNvdW5kRWZmZWN0IH0gZnJvbSBcIi4vU291bmRFZmZlY3RcIjtcblxuXG5leHBvcnQgY2xhc3MgQXVkaW9FbmdpbmUgaW1wbGVtZW50cyBJRGlzcG9zYWJsZSB7XG4gICAgcHJpdmF0ZSBtQ29udGV4dDogQXVkaW9Db250ZXh0O1xuICAgIHByaXZhdGUgbUJ1c3NlczogQnVzTWdyO1xuXG4gICAgcHJpdmF0ZSBtU291bmRzOiBNYXA8c3RyaW5nLCBTb3VuZEVmZmVjdD47XG4gICAgcHJpdmF0ZSBtTXVzaWM6IE1hcDxzdHJpbmcsIE11c2ljPjtcbiAgICBwcml2YXRlIG1TeW50aHM6IE1hcDxzdHJpbmcsIE1vbm9TeW50aD47XG5cbiAgICBnZXQgbGlzdGVuZXIoKTogQXVkaW9MaXN0ZW5lciB7IHJldHVybiB0aGlzLm1Db250ZXh0Lmxpc3RlbmVyOyB9XG5cbiAgICBnZXQgYnVzc2VzKCk6IEJ1c01nciB7IHJldHVybiB0aGlzLm1CdXNzZXM7IH1cbiAgICBnZXQgY29udGV4dCgpOiBBdWRpb0NvbnRleHQgeyByZXR1cm4gdGhpcy5tQ29udGV4dDsgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubUNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLm1CdXNzZXMgPSBudWxsO1xuICAgICAgICB0aGlzLm1Tb3VuZHMgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLm1NdXNpYyA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMubVN5bnRocyA9IG5ldyBNYXA7XG4gICAgfVxuXG4gICAgZ2V0U291bmQodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubVNvdW5kcy5nZXQodXJsKSB8fCBudWxsO1xuICAgIH1cblxuICAgIGdldE11c2ljKHVybDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1NdXNpYy5nZXQodXJsKSB8fCBudWxsO1xuICAgIH1cblxuICAgIGdldFN5bnRoKG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5tU3ludGhzLmdldChuYW1lKSB8fCBudWxsO1xuICAgIH1cblxuICAgIGxvYWRTb3VuZCh1cmw6IHN0cmluZywgYnVzTmFtZT86IHN0cmluZykge1xuICAgICAgICBsZXQgc291bmQgPSB0aGlzLm1Tb3VuZHMuZ2V0KHVybCk7XG4gICAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgICAgIGxldCBidXMgPSBidXNOYW1lID8gdGhpcy5tQnVzc2VzLmdldChidXNOYW1lKSA6IHRoaXMubUJ1c3Nlcy5tYXN0ZXI7XG4gICAgICAgICAgICBpZiAoIWJ1cykgYnVzID0gdGhpcy5tQnVzc2VzLm1hc3RlcjtcblxuICAgICAgICAgICAgc291bmQgPSBuZXcgU291bmRFZmZlY3QodGhpcy5jb250ZXh0LCBidXMuaW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5tU291bmRzLnNldCh1cmwsIHNvdW5kKTtcbiAgICAgICAgICAgIHNvdW5kLmxvYWQodXJsKVxuICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VuZDtcbiAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQ7XG4gICAgfVxuXG5cblxuICAgIGxvYWRNdXNpYyh1cmw6IHN0cmluZywgYnVzTmFtZT86IHN0cmluZykge1xuICAgICAgICBsZXQgbXVzaWMgPSB0aGlzLm1NdXNpYy5nZXQodXJsKTtcbiAgICAgICAgaWYgKCFtdXNpYykge1xuICAgICAgICAgICAgbGV0IGJ1cyA9IGJ1c05hbWUgPyB0aGlzLm1CdXNzZXMuZ2V0KGJ1c05hbWUpIDogdGhpcy5tQnVzc2VzLm1hc3RlcjtcbiAgICAgICAgICAgIGlmICghYnVzKSBidXMgPSB0aGlzLm1CdXNzZXMubWFzdGVyO1xuICAgICAgICAgICAgbXVzaWMgPSBuZXcgTXVzaWModGhpcy5jb250ZXh0LCBidXMuaW5wdXQpO1xuXG4gICAgICAgICAgICB0aGlzLm1NdXNpYy5zZXQodXJsLCBtdXNpYyk7XG4gICAgICAgICAgICBtdXNpYy5sb2FkKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbXVzaWM7XG4gICAgfVxuXG4gICAgbG9hZFN5bnRoKG5hbWU6IHN0cmluZywgYnVzTmFtZTogc3RyaW5nID0gXCJtYXN0ZXJcIiwgb3B0cz86IE9zY2lsbGF0b3JPcHRpb25zKSB7XG4gICAgICAgIGxldCBzeW50aCA9IHRoaXMubVN5bnRocy5nZXQobmFtZSk7XG4gICAgICAgIGlmICghc3ludGgpIHtcbiAgICAgICAgICAgIGxldCBidXMgPSB0aGlzLm1CdXNzZXMuZ2V0KGJ1c05hbWUpO1xuXG4gICAgICAgICAgICBzeW50aCA9IG5ldyBNb25vU3ludGgodGhpcy5jb250ZXh0LCBidXMuaW5wdXQsIG9wdHMpO1xuICAgICAgICAgICAgdGhpcy5tU3ludGhzLnNldChuYW1lLCBzeW50aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ludGg7XG4gICAgfVxuXG5cblxuXG5cbiAgICB3YXNJbml0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tQ29udGV4dCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBpbml0KCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgY29udGV4dDogQXVkaW9Db250ZXh0IHwgbnVsbCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkF1ZGlvQ29udGV4dCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmFjdGlvbldvcmthcm91bmQoY29udGV4dCk7XG5cbiAgICAgICAgdGhpcy5tQnVzc2VzID0gbmV3IEJ1c01ncihjb250ZXh0KTtcbiAgICAgICAgdGhpcy5tQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMubUJ1c3Nlcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMubU11c2ljLmZvckVhY2gobXVzaWMgPT4gbXVzaWMuZGlzcG9zZSgpKTtcbiAgICAgICAgdGhpcy5tTXVzaWMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tTXVzaWMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMubVNvdW5kcy5mb3JFYWNoKHNmeCA9PiBzZnguZGlzcG9zZSgpKTtcbiAgICAgICAgdGhpcy5tU291bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMubVNvdW5kcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tQ29udGV4dCA9IG51bGw7XG4gICAgfVxuXG59XG5cbiIsImltcG9ydCB7IE1vZGVsIH0gZnJvbSBcIi4vTW9kZWxcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpZXc8TSBleHRlbmRzIE1vZGVsPGFueSwgYW55LCBhbnk+ID4ge1xuICAgIHByb3RlY3RlZCBtb2RlbDogTTtcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihtb2RlbDogTSkge1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG5cbiAgICAgICAgbW9kZWwub25TdGF0ZVVwZGF0ZWQgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIHJlbmRlcihtb2RlbDogTSkge1xuICAgICAgICB0aGlzLnJlbmRlckltcGwobW9kZWwpO1xuICAgIH1cblxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIHRoaXMubW9kZWwub25TdGF0ZVVwZGF0ZWQgPSBudWxsO1xuICAgIH1cblxuICAgIGFic3RyYWN0IHJlbmRlckltcGwobW9kZWw6IE0pOiB2b2lkO1xufVxuIiwiaW1wb3J0IHtWaWV3fSBmcm9tIFwiLi9saWIvVUkvVmlld1wiO1xuaW1wb3J0IHtHYW1lU3RhdGUsIFNpbW9uTW9kZWx9IGZyb20gXCIuL1NpbW9uTW9kZWxcIjtcblxuZXhwb3J0IGNsYXNzIFNpbW9uVmlldyBleHRlbmRzIFZpZXc8U2ltb25Nb2RlbD4ge1xuXG4gICAgY29uc3RydWN0b3IobW9kZWw6IFNpbW9uTW9kZWwpIHtcbiAgICAgICAgc3VwZXIobW9kZWwpO1xuICAgIH1cbiAgICByZW5kZXJJbXBsKG1vZGVsOiBTaW1vbk1vZGVsKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJvdW5kRWwgPSBtb2RlbC5wcm9wcy5yb3VuZERpc3BsYXkuY2hpbGRyZW5bMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHJvdW5kTnVtRWwgPSBtb2RlbC5wcm9wcy5yb3VuZERpc3BsYXkuY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHdoZW4gdGhlIGNvbXB1dGVyIHN0YXJ0cyBwbGF5aW5nIHRvbmVzXG4gICAgICAgIGlmICgobW9kZWwuc3RhdGUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUGxheVRvbmVzICYmIG1vZGVsLnN0YXRlLnByb2dyZXNzID4gMCkgfHwgbW9kZWwuc3RhdGUudHVybk51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgcm91bmRFbC5pbm5lclRleHQgPSBcIlJPVU5EXCI7XG4gICAgICAgICAgICByb3VuZE51bUVsLmlubmVyVGV4dCA9IChtb2RlbC5zdGF0ZS50dXJuTnVtYmVyICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSIsImltcG9ydCB7QXVkaW9FbmdpbmUsIE1vbm9TeW50aCwgbG9hZEF1ZGlvQnVmZmVyfSBmcm9tIFwiV2ViQUFcIjtcblxuaW1wb3J0IHtDb250cm9sbGVyfSBmcm9tIFwiLi9saWIvVUkvQ29udHJvbGxlclwiO1xuaW1wb3J0IHtHYW1lU3RhdGUsIFNpbW9uTW9kZWx9IGZyb20gXCIuL1NpbW9uTW9kZWxcIjtcblxuZXhwb3J0IGNsYXNzIFNpbW9uQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXI8U2ltb25Nb2RlbD4ge1xuICAgIGlyOiBBdWRpb0J1ZmZlcjtcblxuICAgIGNvbnN0cnVjdG9yKG1vZGVsOiBTaW1vbk1vZGVsKSB7XG4gICAgICAgIHN1cGVyKG1vZGVsKTtcblxuICAgICAgICAvLyBVc2VkIGFzIGV2ZW50IGxpc3RlbmVyLCBtdXN0IGJpbmQgdGhpc1xuICAgICAgICB0aGlzLmtleWRvd25IYW5kbGVyID0gdGhpcy5rZXlkb3duSGFuZGxlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIEluaXQgYXVkaW8sIHByZWxvYWQgaW1wdWxzZSByZXNwb25zZSB1c2VkIGluIHJldmVyYlxuICAgICAgICBtb2RlbC5wcm9wcy5hdWRpby5pbml0KCk7XG4gICAgICAgIGxvYWRBdWRpb0J1ZmZlcihtb2RlbC5wcm9wcy5hdWRpby5jb250ZXh0LCBcImF1ZGlvL2lyLWNpbmVtYS1yb29tLndhdlwiKVxuICAgICAgICAgICAgLnRoZW4oKGJ1ZikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXIgPSBidWY7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyA9PT09PSBJbml0aWFsaXphdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIEluaXRpYWxpemVzIGFsbCBjb21wb25lbnRzIG9mIHRoZSBnYW1lLlxuICAgIHByaXZhdGUgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5pbml0T3ZlcmxheSgpO1xuICAgICAgICB0aGlzLmluaXRWb2x1bWVTbGlkZXIoKTtcbiAgICAgICAgdGhpcy5pbml0UGxheUFnYWluQnV0dG9uKCk7XG4gICAgICAgIHRoaXMuaW5pdEF1ZGlvKCk7XG5cbiAgICAgICAgdGhpcy5pbml0QnV0dG9ucygpO1xuICAgICAgICB0aGlzLmluaXRLZXlib2FyZENvbnRyb2xzKCk7XG4gICAgfVxuXG4gICAgLy8gQ2FsbGVkIGluIGluaXQoKS4gTG9hZHMgYXVkaW8gZm9yIGVhY2ggYnV0dG9uLlxuICAgIHByaXZhdGUgaW5pdEF1ZGlvKCkge1xuICAgICAgICBjb25zdCBhdWRpbyA9IHRoaXMubW9kZWwucHJvcHMuYXVkaW87XG5cbiAgICAgICAgLy8gc2V0IHVwIGdsb2JhbCByZXZlcmJcbiAgICAgICAgY29uc3QgcmV2ZXJiID0gYXVkaW8uYnVzc2VzLm1hc3Rlci5lZmZlY3RzLnB1c2goQ29udm9sdmVyTm9kZSwge2J1ZmZlcjogdGhpcy5pcn0pO1xuICAgICAgICBjb25zdCBmaWx0ZXIgPSBhdWRpby5idXNzZXMubWFzdGVyLmVmZmVjdHMucHVzaChCaXF1YWRGaWx0ZXJOb2RlLCB7XG4gICAgICAgICAgICB0eXBlOiBcImxvd3Bhc3NcIixcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogMzAwLFxuICAgICAgICAgICAgUTogMi4wLFxuICAgICAgICAgICAgZ2FpbjogLjVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV2ZXJiLnNldFdldERyeSguMTcpO1xuXG4gICAgICAgIC8vIGxvYWQgc3ludGhzXG4gICAgICAgIGNvbnN0IHR5cGUgPSBcInNhd3Rvb3RoXCI7XG4gICAgICAgIGNvbnN0IGF0dGFja1RpbWUgPSAuMDU7XG4gICAgICAgIGNvbnN0IHJlbGVhc2VUaW1lID0gLjE7XG4gICAgICAgIGNvbnN0IHN1c3RhaW5MZXZlbCA9IC4yO1xuICAgICAgICBjb25zdCBkZWNheVRpbWUgPSAuMjU7XG4gICAgICAgIGNvbnN0IGhvbGRUaW1lID0gMDtcblxuICAgICAgICBhdWRpby5sb2FkU3ludGgoXCJyZWQtYnV0dG9uXCIsIFwibWFzdGVyXCIsIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IDI3OS40MlxuICAgICAgICB9KS5lbnZlbG9wZS5zZXQoe1xuICAgICAgICAgICAgYXR0YWNrVGltZSxcbiAgICAgICAgICAgIGRlY2F5VGltZSxcbiAgICAgICAgICAgIHN1c3RhaW5MZXZlbCxcbiAgICAgICAgICAgIGhvbGRUaW1lLFxuICAgICAgICAgICAgcmVsZWFzZVRpbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF1ZGlvLmxvYWRTeW50aChcImdyZWVuLWJ1dHRvblwiLCBcIm1hc3RlclwiLCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiA0MTguNjVcbiAgICAgICAgfSkuZW52ZWxvcGUuc2V0KHtcbiAgICAgICAgICAgIGF0dGFja1RpbWUsXG4gICAgICAgICAgICBkZWNheVRpbWUsXG4gICAgICAgICAgICBzdXN0YWluTGV2ZWwsXG4gICAgICAgICAgICBob2xkVGltZSxcbiAgICAgICAgICAgIHJlbGVhc2VUaW1lLFxuICAgICAgICB9KTtcblxuICAgICAgICBhdWRpby5sb2FkU3ludGgoXCJibHVlLWJ1dHRvblwiLCBcIm1hc3RlclwiLCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiA1NTRcbiAgICAgICAgfSkuZW52ZWxvcGUuc2V0KHtcbiAgICAgICAgICAgIGF0dGFja1RpbWUsXG4gICAgICAgICAgICBkZWNheVRpbWUsXG4gICAgICAgICAgICBzdXN0YWluTGV2ZWwsXG4gICAgICAgICAgICBob2xkVGltZSxcbiAgICAgICAgICAgIHJlbGVhc2VUaW1lLFxuICAgICAgICB9KTtcblxuICAgICAgICBhdWRpby5sb2FkU3ludGgoXCJ5ZWxsb3ctYnV0dG9uXCIsIFwibWFzdGVyXCIsIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBmcmVxdWVuY3k6IDQ2OS45MlxuICAgICAgICB9KS5lbnZlbG9wZS5zZXQoe1xuICAgICAgICAgICAgYXR0YWNrVGltZSxcbiAgICAgICAgICAgIGRlY2F5VGltZSxcbiAgICAgICAgICAgIHN1c3RhaW5MZXZlbCxcbiAgICAgICAgICAgIGhvbGRUaW1lLFxuICAgICAgICAgICAgcmVsZWFzZVRpbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF1ZGlvLmxvYWRTeW50aChcInlvdS1sb3N0XCIsIFwibWFzdGVyXCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwic2luZVwiLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiAyMDAsXG4gICAgICAgIH0pLmVudmVsb3BlLnNldCh7XG4gICAgICAgICAgICBhdHRhY2tUaW1lOiAwLFxuICAgICAgICAgICAgZGVjYXlUaW1lLFxuICAgICAgICAgICAgc3VzdGFpbkxldmVsLFxuICAgICAgICAgICAgaG9sZFRpbWU6IC4zLFxuICAgICAgICAgICAgcmVsZWFzZVRpbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IG1vZHVsYXRvciA9IG5ldyBNb25vU3ludGgoYXVkaW8uY29udGV4dCk7XG4gICAgICAgIG1vZHVsYXRvci5nYWluLnZhbHVlID0gMjAwO1xuICAgICAgICBtb2R1bGF0b3IudHlwZSA9IFwic2luZVwiO1xuICAgICAgICBtb2R1bGF0b3IuZnJlcXVlbmN5LnZhbHVlID0gMzMzO1xuICAgICAgICBtb2R1bGF0b3IuY29ubmVjdChhdWRpby5nZXRTeW50aChcInlvdS1sb3N0XCIpLmZyZXF1ZW5jeSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGF1ZGlvLmdldFN5bnRoKFwieW91LWxvc3RcIikpO1xuICAgIH1cblxuICAgIC8vIE92ZXJsYXkgYXBwZWFycyBhcyBhIGRpbW1lZCBzY3JlZW4gd2l0aCBwbGF5IGJ1dHRvbi5cbiAgICAvLyBQbGF5ZXIgY2FuIGNsaWNrIGFueXdoZXJlIG9uIHRoZSBvdmVybGF5IHRvIHJlbW92ZSBpdCBhbmQgc3RhcnQgdGhlIGdhbWUuXG4gICAgcHJpdmF0ZSBpbml0T3ZlcmxheSgpIHtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3ZlcmxheVwiKTtcblxuICAgICAgICAvLyBjbGlja2luZyBvdmVybGF5IHdpbGwgaGlkZSBpdCwgYW5kIHN0YXJ0IHRoZSBnYW1lXG4gICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgY2xpY2tzIGZyb20gcGVuZXRyYXRpbmcgb3ZlcmxheVxuICAgICAgICAgICAgaWYgKG92ZXJsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZVwiKSkgcmV0dXJuOyAvLyBvbmx5IGhpZGUgb25jZVxuXG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xuXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnN0YXJ0R2FtZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnJlc2V0QnV0dG9uc0NsYXNzKCk7XG5cbiAgICAgICAgICAgIC8vIHN0YXJ0IHRvbmUgcGxheWJhY2sgJiByZW1vdmUgb3ZlcmxheSBpbiAxIHNlY29uZFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5VG9uZXMoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXkpO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBpbml0UGxheUFnYWluQnV0dG9uKCkge1xuICAgICAgICAvLyBDbGljayBcIlBsYXkgQWdhaW4/XCIgYnV0dG9uXG4gICAgICAgIGNvbnN0IHBsYXlBZ2FpbiA9IHRoaXMubW9kZWwucHJvcHMucGxheUFnYWluO1xuICAgICAgICBwbGF5QWdhaW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XG5cbiAgICAgICAgICAgIGlmIChwbGF5QWdhaW4uY2xhc3NMaXN0LmNvbnRhaW5zKFwic2hvd1wiKSkge1xuICAgICAgICAgICAgICAgIHBsYXlBZ2Fpbi5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRCdXR0b25zQ2xhc3MoKTtcblxuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zdGFydEdhbWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlUb25lcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgaW5pdEtleWJvYXJkQ29udHJvbHMoKSB7XG4gICAgICAgIC8vIEtleWJvYXJkIGNvbnRyb2xzICh0cmlnZ2VycyBjbGljaylcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5rZXlkb3duSGFuZGxlcik7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGluaXRCdXR0b25zKCkge1xuICAgICAgICBjb25zdCBidXR0b25zID0gdGhpcy5tb2RlbC5wcm9wcy5idXR0b25zO1xuXG4gICAgICAgIC8vIENsaWNrIGNvbnRyb2xzIChjb250YWlucyBtYWluIGxvZ2ljKVxuICAgICAgICBidXR0b25zLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldnQgPT5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVCdXR0b24oZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkpO1xuXG4gICAgICAgIC8vIEJ1dHRvbiBhbmltYXRpb24gZW5kLiBSZW1vdmVzIGFuaW0gY2xhc3MuXG4gICAgICAgIGJ1dHRvbnMuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCBldnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChldnQuYW5pbWF0aW9uTmFtZSA9PT0gXCJibGlua1wiKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJibGlua1wiKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2hpbGRyZW5bMF0uY2xhc3NMaXN0LnJlbW92ZShcImJsaW5rXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgaW5pdFZvbHVtZVNsaWRlcigpIHtcbiAgICAgICAgY29uc3Qgdm9sSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdm9sdW1lLWxhYmVsID4gaVwiKTtcbiAgICAgICAgY29uc3Qgdm9sRWwgPSB0aGlzLm1vZGVsLnByb3BzLnZvbHVtZTtcbiAgICAgICAgbGV0IHZvbHVtZSA9IDY3OyAvLyBUT0RPOiB1c2UgY29va2llIHRvIHJldHJpZXZlIHRoaXMgdmFsP1xuXG4gICAgICAgIHZvbEVsLnZhbHVlID0gdm9sdW1lLnRvU3RyaW5nKCk7XG4gICAgICAgIHNldFZvbEltYWdlKHZvbHVtZSwgdm9sSWNvbik7XG4gICAgICAgIHNldE1hc3RlclZvbHVtZSh2b2x1bWUsIHRoaXMubW9kZWwucHJvcHMuYXVkaW8pO1xuXG5cbiAgICAgICAgZnVuY3Rpb24gc2V0Vm9sSW1hZ2UodmFsdWU6IG51bWJlciwgdm9sSWNvbjogRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdm9sSWNvbi5jbGFzc05hbWUgPSBcImZhLXNvbGlkIGZhLXZvbHVtZS14bWFya1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IDMzKSB7XG4gICAgICAgICAgICAgICAgdm9sSWNvbi5jbGFzc05hbWUgPSBcImZhLXNvbGlkIGZhLXZvbHVtZS1vZmZcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPCA2Nikge1xuICAgICAgICAgICAgICAgIHZvbEljb24uY2xhc3NOYW1lID0gXCJmYS1zb2xpZCBmYS12b2x1bWUtbG93XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZvbEljb24uY2xhc3NOYW1lID0gXCJmYS1zb2xpZCBmYS12b2x1bWUtaGlnaFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0TWFzdGVyVm9sdW1lKHZhbHVlOiBudW1iZXIsIGF1ZGlvOiBBdWRpb0VuZ2luZSkge1xuICAgICAgICAgICAgYXVkaW8uYnVzc2VzLm1hc3Rlci5wb3N0R2Fpbi5nYWluLnZhbHVlID0gdmFsdWUgKiAuMDE7XG4gICAgICAgIH1cblxuICAgICAgICB2b2xFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZXZ0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKHZvbEVsLnZhbHVlKTtcbiAgICAgICAgICAgIHZvbHVtZSA9IHZhbHVlO1xuICAgICAgICAgICAgc2V0Vm9sSW1hZ2UodmFsdWUsIHZvbEljb24pO1xuICAgICAgICAgICAgc2V0TWFzdGVyVm9sdW1lKHZhbHVlLCB0aGlzLm1vZGVsLnByb3BzLmF1ZGlvKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdm9sSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IHtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgY29uc3QgdGVtcFZvbHVtZSA9IChOdW1iZXIodm9sRWwudmFsdWUpID09PSAwKSA/IHZvbHVtZSA6IDA7XG5cbiAgICAgICAgICAgIHNldFZvbEltYWdlKHRlbXBWb2x1bWUsIHZvbEljb24pO1xuICAgICAgICAgICAgc2V0TWFzdGVyVm9sdW1lKHRlbXBWb2x1bWUsIHRoaXMubW9kZWwucHJvcHMuYXVkaW8pO1xuICAgICAgICAgICAgdm9sRWwudmFsdWUgPSB0ZW1wVm9sdW1lLnRvU3RyaW5nKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzZXRCdXR0b25zQ2xhc3MoKSB7XG4gICAgICAgIC8vIHJlbW92ZSBsb3NlIGNsYXNzIGZyb20gYnV0dG9uc1xuICAgICAgICBjb25zdCBidXR0b25zID0gdGhpcy5tb2RlbC5wcm9wcy5idXR0b25zLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0RpdiA9IGJ1dHRvbnNbaV0uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICBpZiAoc2hhZG93RGl2KSB7XG4gICAgICAgICAgICAgICAgc2hhZG93RGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJsb3NlXCIpO1xuICAgICAgICAgICAgICAgIHNoYWRvd0Rpdi5jbGFzc0xpc3QucmVtb3ZlKFwiYmxpbmtcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PSBHYW1lIGxvZ2ljID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vIHByZXNzZXMgYSBidXR0b24sIHRyaWdnZXJpbmcgaXRzIGFuaW1hdGlvbi9zb3VuZCAmIHByb2dyZXNzaW5nIGdhbWUgc3RhdGVcbiAgICBwcml2YXRlIGFjdGl2YXRlQnV0dG9uKHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCF0YXJnZXQpIHJldHVybjsgLy8gcmVqZWN0IG51bGwvdW5kZWZpbmVkIGZyb20gaW52YWxpZCBpbnB1dFxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5tb2RlbC5zdGF0ZS5nYW1lU3RhdGU7XG4gICAgICAgIHN3aXRjaChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lU3RhdGUuUmVzcG9uc2U6XG4gICAgICAgICAgICBjYXNlIEdhbWVTdGF0ZS5Bd2FpdFJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiaWRcIik7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRBbnN3ZXJCdXR0b25JbmRleCgpID09PSBnZXRCdXR0b25JbmRleEZyb21JRChpZCkpIHsgIC8vIHBsYXllciBpbnB1dCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5QnV0dG9uQW5pbVNvdW5kKHRhcmdldCk7IC8vIHZpc3VhbC9hdWRpbyBmeFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnByb2dyZXNzKCk7ICAgICAgICAvLyBwcm9ncmVzcyBnYW1lIGxvZ2ljXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuc3RhdGUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUGxheVRvbmVzKSB7IC8vIHRyYWNrIGV4aXQgY2FzZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2hlZCBwbGF5ZXIgcmVzcG9uc2UsIHN0YXJ0IHBsYXlpbmcgbmV4dCByb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnBsYXlUb25lcygpLCA2MDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwbGF5ZXIgaW5wdXQgaW5jb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgc2hvd1BsYXlBZ2FpbkJ1dHRvbih0aGlzLm1vZGVsLnByb3BzLnBsYXlBZ2Fpbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUxvc2VBbmltU291bmQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5sb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5lc3RlZCBoZWxwZXJzXG4gICAgICAgIGZ1bmN0aW9uIHNob3dQbGF5QWdhaW5CdXR0b24ocGxheUFnYWluOiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgcGxheUFnYWluLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgICAgcGxheUFnYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJmaXJzdC1oaWRlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0QnV0dG9uSW5kZXhGcm9tSUQoaWQ6IHN0cmluZykge1xuICAgICAgICAgICAgbGV0IHByZXNzZWQ7XG4gICAgICAgICAgICBzd2l0Y2goaWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVkLWJ1dHRvblwiOiAgICBwcmVzc2VkID0gMDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImdyZWVuLWJ1dHRvblwiOiAgcHJlc3NlZCA9IDE7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJibHVlLWJ1dHRvblwiOiAgIHByZXNzZWQgPSAyOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwieWVsbG93LWJ1dHRvblwiOiBwcmVzc2VkID0gMzsgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogICAgICAgICAgICAgIHByZXNzZWQgPSAtMTticmVhazsgLy8gc2hvdWxkIHRocm93P1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJlc3NlZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGV4ZWN1dGVzIHBsYXliYWNrIHBoYXNlXG4gICAgcHJpdmF0ZSBwbGF5VG9uZXMoKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLm1vZGVsLnByb3BzLmJ1dHRvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgLy8gc3BhY2UgcGxheWJhY2sgdmlhIGFuIGludGVydmFsXG4gICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLnBsYXlCdXR0b25BbmltU291bmQoXG4gICAgICAgICAgICAgICAgYnV0dG9uc1t0aGlzLmdldEFuc3dlckJ1dHRvbkluZGV4KCldIGFzIEhUTUxFbGVtZW50KTtcblxuICAgICAgICAgICAgLy8gcHJvZ3Jlc3MgdG8gdGhlIG5leHQgdG9uZS9zdGF0ZVxuICAgICAgICAgICAgdGhpcy5tb2RlbC5wcm9ncmVzcygpO1xuXG4gICAgICAgICAgICAvLyBleGl0IGNhc2VcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLnN0YXRlLnByb2dyZXNzID09PSAwKVxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgIH0sIHRoaXMubW9kZWwuc3RhdGUuc3BlZWQpO1xuICAgIH1cblxuICAgIC8vIHBsYXlzIGEgdG9uZSBiYXNlZCBvbiB0aGUgSFRNTEVsZW1lbnQgYnV0dG9uIHRhcmdldFxuICAgIHByaXZhdGUgcGxheUJ1dHRvblNvdW5kKHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgYXVkaW8gPSB0aGlzLm1vZGVsLnByb3BzLmF1ZGlvO1xuICAgICAgICBjb25zdCBzeW50aCA9IGF1ZGlvLmdldFN5bnRoKHRhcmdldC5pZCk7XG4gICAgICAgIGlmIChzeW50aClcbiAgICAgICAgICAgIHN5bnRoLnBsYXkoKTtcbiAgICB9XG5cbiAgICAvLyB0cmlnZ2VycyB2aXN1YWwvYXVkaW8gZWZmZWN0cyBmb3Igd3JvbmcgYnV0dG9uXG4gICAgcHJpdmF0ZSBwbGF5TG9zZUFuaW1Tb3VuZCgpIHtcbiAgICAgICAgLy8gQW5pbWF0aW9uIGNsYXNzXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLm1vZGVsLnByb3BzLmJ1dHRvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRBbnN3ZXJCdXR0b25JbmRleCgpICE9PSBpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhZG93RGl2ID0gYnV0dG9uc1tpXS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICBpZiAoc2hhZG93RGl2KVxuICAgICAgICAgICAgICAgICAgICBzaGFkb3dEaXYuY2xhc3NMaXN0LmFkZChcImxvc2VcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRvd0RpdiA9IGJ1dHRvbnNbaV0uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd0Rpdikge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNoYWRvd0Rpdi5jbGFzc0xpc3QuYWRkKFwiYmxpbmtcIiksIDQwMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIEF1ZGlvXG4gICAgICAgIGNvbnN0IHN5bnRoID0gdGhpcy5tb2RlbC5wcm9wcy5hdWRpby5nZXRTeW50aChcInlvdS1sb3N0XCIpO1xuXG4gICAgICAgIHN5bnRoLmZyZXF1ZW5jeS52YWx1ZSA9IDQwMDtcbiAgICAgICAgc3ludGgucGxheSgpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc3ludGguZnJlcXVlbmN5LnZhbHVlID0gMzAwO1xuICAgICAgICAgICAgc3ludGgucGxheSgpO1xuICAgICAgICB9LCA0MDApO1xuXG4gICAgfVxuXG5cbiAgICAvLyB0cmlnZ2VycyB2aXN1YWwvYXVkaW8gZWZmZWN0cyBmb3IgY29ycmVjdCBidXR0b25cbiAgICBwcml2YXRlIHBsYXlCdXR0b25BbmltU291bmQodGFyZ2V0OiBIVE1MRWxlbWVudCkge1xuXG4gICAgICAgIHRoaXMucGxheUJ1dHRvblNvdW5kKHRhcmdldCk7XG5cbiAgICAgICAgY29uc3QgY2hpbGQgPSB0YXJnZXQuY2hpbGRyZW5bMF07XG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoXCJibGlua1wiKTtcbiAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZChcImJsaW5rXCIpO1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImJsaW5rXCIpO1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcImJsaW5rXCIpO1xuICAgIH1cblxuXG4gICAgLy8gZ2V0IGN1cnJlbnQgYW5zd2VyIHRoYXQgcGxheWVyIG11c3QgZ3Vlc3MgY29ycmVjdGx5XG4gICAgcHJpdmF0ZSBnZXRBbnN3ZXJCdXR0b25JbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucHJvcHMub3JkZXJbdGhpcy5tb2RlbC5zdGF0ZS5wcm9ncmVzc107XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGtleWRvd25IYW5kbGVyKGV2dDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZXZ0LnJlcGVhdCkgcmV0dXJuOyAvLyBxdWl0IG9uIHJlcGVhdCBwcmVzc2VzXG5cbiAgICAgICAgY29uc3QgYnRucyA9IHRoaXMubW9kZWwucHJvcHMuYnV0dG9ucy5jaGlsZHJlbiBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxEaXZFbGVtZW50PjtcbiAgICAgICAgbGV0IGJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgICAgIHN3aXRjaChldnQuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAgICAgICAgICBidXR0b24gPSBidG5zWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgICAgICAgICAgYnV0dG9uID0gYnRuc1sxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgICAgICBjYXNlIFwiS2V5V1wiOlxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ0bnNbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgICAgICBjYXNlIFwiS2V5U1wiOlxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ0bnNbMl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2YXRlQnV0dG9uKGJ1dHRvbik7XG4gICAgfVxufSIsImltcG9ydCB7TW9kZWx9IGZyb20gXCIuL01vZGVsXCI7XG5cbmV4cG9ydCBjbGFzcyBDb250cm9sbGVyPE0gZXh0ZW5kcyBNb2RlbDxhbnksIGFueSwgYW55Pj4ge1xuICAgIHByb3RlY3RlZCBtb2RlbDogTTtcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IobW9kZWw6IE0pIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIH1cbn0iLCJpbXBvcnQge1NpbW9uTW9kZWx9IGZyb20gXCIuL1NpbW9uTW9kZWxcIjtcbmltcG9ydCB7U2ltb25WaWV3fSBmcm9tIFwiLi9TaW1vblZpZXdcIjtcbmltcG9ydCB7U2ltb25Db250cm9sbGVyfSBmcm9tIFwiLi9TaW1vbkNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGNsYXNzIFNpbW9uIHtcblxuICAgIG1vZGVsOiBTaW1vbk1vZGVsO1xuICAgIHZpZXc6IFNpbW9uVmlldztcbiAgICBjb250cm9sbGVyOiBTaW1vbkNvbnRyb2xsZXI7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXcgU2ltb25Nb2RlbDtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IFNpbW9uVmlldyh0aGlzLm1vZGVsKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IFNpbW9uQ29udHJvbGxlcih0aGlzLm1vZGVsKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgU2ltb24gfSBmcm9tIFwiLi9TaW1vblwiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHNpbW9uID0gbmV3IFNpbW9uKCk7XG59KTtcbiJdLCJuYW1lcyI6WyJwcm9wc0RlZmF1bHQiLCJzdGF0ZURlZmF1bHQiLCJ0aGlzIiwicHJvcHMiLCJzdGF0ZSIsInN0YXRlSGlzdG9yeSIsIm9uU3RhdGVVcGRhdGVkIiwicmVkdWNlciIsInR5cGUiLCJkYXRhIiwibmV3U3RhdGUiLCJyZWR1Y2VySW1wbCIsIk9iamVjdCIsImlzIiwicHVzaCIsInRpbWUiLCJEYXRlIiwiZWZmZWN0IiwidGFyZ2V0IiwiY29udGV4dCIsIm1FZmZlY3QiLCJtRHJ5IiwiR2Fpbk5vZGUiLCJnYWluIiwidmFsdWUiLCJtV2V0IiwibUlucHV0IiwibU91dHB1dCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImF1ZGlvTm9kZSIsImRpc2Nvbm5lY3QiLCJzZXRXZXREcnkiLCJwZXJjZW50IiwicmFtcFRpbWUiLCJNYXRoIiwibWluIiwibWF4IiwiY3VycmVudFRpbWUiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsInNldFdldCIsInNldERyeSIsImRpc3Bvc2UiLCJtQ29udGV4dCIsIm1QcmVHYWluIiwibVBvc3RHYWluIiwibUVmZmVjdHMiLCJuZXdUYXJnZXQiLCJvdXRwdXQiLCJsZW5ndGgiLCJwdXNoRWZmZWN0Iiwibm9kZSIsIm5ld0Z4IiwiQXVkaW9FZmZlY3QiLCJiZWZvcmUiLCJpbnB1dCIsIm9wdHMiLCJpbnNlcnRFZmZlY3QiLCJpZHgiLCJhZnRlciIsInNwbGljZSIsImluc2VydCIsInJlbW92ZSIsImVmZmVjdFR5cGUiLCJpIiwiZ2V0IiwiZ2V0TnRoIiwiZ2V0QWxsT2YiLCJmaWx0ZXIiLCJmeCIsIm4iLCJmb3JFYWNoIiwibU5vZGUiLCJjcmVhdGVHYWluIiwibVRhcmdldCIsIm1TZW5kcyIsImNyZWF0ZSIsIm5ld1NlbmQiLCJTZW5kIiwiaWR4T3JUYXJnZXQiLCJmaW5kIiwic2VuZCIsImNsZWFuU2VuZCIsInJlbW92ZUFsbCIsInJlbW92ZUlmVGFyZ2V0aW5nIiwibVBhbm5lciIsImNyZWF0ZVN0ZXJlb1Bhbm5lciIsIkVmZmVjdENoYWluIiwiU2VuZE1nciIsInByZUdhaW4iLCJtTWFzdGVyQnVzIiwiQnVzIiwibUJ1c3NlcyIsIk1hcCIsInNldCIsImtleSIsImhhcyIsIm5ld0J1cyIsImRlbGV0ZSIsImJ1cyIsImNsZWFyIiwiSW50ZXJhY3Rpb25Xb3JrYXJvdW5kRXZlbnRUeXBlIiwic291bmROb2RlIiwibVNvdW5kIiwibVRhcmdldHMiLCJtQXR0YWNrVGltZSIsIm1BdHRhY2tMZXZlbCIsIm1EZWNheVRpbWUiLCJtU3VzdGFpbkxldmVsIiwibUhvbGRUaW1lIiwibVJlbGVhc2VUaW1lIiwiYWRkVGFyZ2V0IiwicGFyYW0iLCJyZW1vdmVUYXJnZXQiLCJhdHRhY2tUaW1lIiwiYXR0YWNrTGV2ZWwiLCJkZWNheVRpbWUiLCJzdXN0YWluTGV2ZWwiLCJob2xkVGltZSIsInJlbGVhc2VUaW1lIiwiYWN0aXZhdGUiLCJ3aGVuIiwic3RhcnREZWNheSIsInN0YXJ0UmVsZWFzZSIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsInNldFRhcmdldEF0VGltZSIsImNhbmNlbCIsIk9zY2lsbGF0b3JOb2RlIiwiZW52ZWxvcGUiLCJFbnZlbG9wZSIsInNvdXJjZSIsInN0YXJ0IiwiZnJlcXVlbmN5IiwibG9hZCIsInVybCIsInBsYXkiLCJ1bmxvYWQiLCJTb3VuZCIsIk1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZSIsIm1lZGlhRWxlbWVudCIsIkF1ZGlvIiwic3JjIiwidGhlbiIsImNhdGNoIiwic3RvcCIsInBhdXNlIiwic2V0UGF1c2UiLCJwYXVzZWQiLCJjYWxsYmFja3MiLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwicmVtb3ZlTGlzdGVuZXIiLCJpbnZva2UiLCJjYWxsIiwiYXJncyIsImxvYWRBdWRpb0J1ZmZlciIsImZldGNoIiwiYXJyYXlCdWZmZXIiLCJidWYiLCJkZWNvZGVBdWRpb0RhdGEiLCJHYW1lU3RhdGUiLCJBY3Rpb24iLCJkZWZhdWx0cyIsImJ1ZmZlciIsImxvb3AiLCJwbGF5YmFja1JhdGUiLCJkZXR1bmUiLCJsb29wU3RhcnQiLCJsb29wRW5kIiwib25lbmRlZCIsIkRlbGVnYXRlIiwib25lbmRlZEhhbmRsZXIiLCJiaW5kIiwiYUJ1ZiIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImV2dCIsIm9mZnNldCIsImR1cmF0aW9uIiwic3JjTm9kZSIsIkF1ZGlvQnVmZmVyU291cmNlTm9kZSIsImVmZmVjdHMiLCJ1bmRlZmluZWQiLCJtU291bmRzIiwibU11c2ljIiwibVN5bnRocyIsImxpc3RlbmVyIiwiZ2V0U291bmQiLCJnZXRNdXNpYyIsImdldFN5bnRoIiwibmFtZSIsImxvYWRTb3VuZCIsImJ1c05hbWUiLCJzb3VuZCIsIm1hc3RlciIsIlNvdW5kRWZmZWN0IiwibG9hZE11c2ljIiwibXVzaWMiLCJNdXNpYyIsImxvYWRTeW50aCIsInN5bnRoIiwiTW9ub1N5bnRoIiwid2FzSW5pdCIsImluaXQiLCJ3aW5kb3ciLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3VtZSIsImxvZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbnRlcmFjdGlvbldvcmthcm91bmQiLCJCdXNNZ3IiLCJzZngiLCJ0dXJuTnVtYmVyIiwicHJvZ3Jlc3MiLCJzcGVlZCIsImdhbWVTdGF0ZSIsIlN0YW5kYnkiLCJidXR0b25zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicGxheUFnYWluIiwiZ2V0RWxlbWVudEJ5SWQiLCJvcmRlciIsIlVpbnQ4QXJyYXkiLCJ2b2x1bWUiLCJhdWRpbyIsIkF1ZGlvRW5naW5lIiwicm91bmREaXNwbGF5Iiwic3RhcnRHYW1lIiwiU3RhcnQiLCJQcm9ncmVzcyIsImxvc2UiLCJMb3NlIiwiZ2VuQnV0dG9uT3JkZXIiLCJmbG9vciIsInJhbmRvbSIsImxhc3RTdGF0ZSIsImFzc2lnbiIsIlBsYXlUb25lcyIsInBhcnRpYWwiLCJzdGVwIiwiQXdhaXRSZXNwb25zZSIsIlJlc3BvbnNlIiwiUmVzdWx0IiwiTW9kZWwiLCJtb2RlbCIsInJlbmRlciIsInJlbmRlckltcGwiLCJjbGVhbnVwIiwicm91bmRFbCIsImNoaWxkcmVuIiwicm91bmROdW1FbCIsImlubmVyVGV4dCIsInRvU3RyaW5nIiwiVmlldyIsImtleWRvd25IYW5kbGVyIiwiaXIiLCJpbml0T3ZlcmxheSIsImluaXRWb2x1bWVTbGlkZXIiLCJpbml0UGxheUFnYWluQnV0dG9uIiwiaW5pdEF1ZGlvIiwiaW5pdEJ1dHRvbnMiLCJpbml0S2V5Ym9hcmRDb250cm9scyIsInJldmVyYiIsImJ1c3NlcyIsIkNvbnZvbHZlck5vZGUiLCJCaXF1YWRGaWx0ZXJOb2RlIiwiUSIsIm1vZHVsYXRvciIsIm92ZXJsYXkiLCJzdG9wUHJvcGFnYXRpb24iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFkZCIsInJlc2V0QnV0dG9uc0NsYXNzIiwic2V0VGltZW91dCIsInBsYXlUb25lcyIsImJvZHkiLCJyZW1vdmVDaGlsZCIsImFjdGl2YXRlQnV0dG9uIiwiYW5pbWF0aW9uTmFtZSIsInZvbEljb24iLCJ2b2xFbCIsInNldFZvbEltYWdlIiwiY2xhc3NOYW1lIiwic2V0TWFzdGVyVm9sdW1lIiwicG9zdEdhaW4iLCJOdW1iZXIiLCJ0ZW1wVm9sdW1lIiwic2hhZG93RGl2IiwiaWQiLCJnZXRBdHRyaWJ1dGUiLCJnZXRBbnN3ZXJCdXR0b25JbmRleCIsInByZXNzZWQiLCJnZXRCdXR0b25JbmRleEZyb21JRCIsInBsYXlCdXR0b25BbmltU291bmQiLCJwbGF5TG9zZUFuaW1Tb3VuZCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwicGxheUJ1dHRvblNvdW5kIiwiY2hpbGQiLCJyZXBlYXQiLCJidXR0b24iLCJidG5zIiwiY29kZSIsIlNpbW9uTW9kZWwiLCJ2aWV3IiwiU2ltb25WaWV3IiwiY29udHJvbGxlciIsIlNpbW9uQ29udHJvbGxlciIsIlNpbW9uIl0sInNvdXJjZVJvb3QiOiIifQ==